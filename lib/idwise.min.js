!(function (e, t) {
  "object" == typeof exports && "undefined" != typeof module
    ? t(exports, require("webrtc-adapter"))
    : "function" == typeof define && define.amd
    ? define(["exports", "webrtc-adapter"], t)
    : t(
        ((e =
          "undefined" != typeof globalThis ? globalThis : e || self).IDWise =
          {})
      );
})(this, function (e) {
  "use strict";
  var t = function (e, t) {
      return function () {
        for (var n = new Array(arguments.length), r = 0; r < n.length; r++)
          n[r] = arguments[r];
        return e.apply(t, n);
      };
    },
    n = Object.prototype.toString;
  function r(e) {
    return "[object Array]" === n.call(e);
  }
  function o(e) {
    return void 0 === e;
  }
  function i(e) {
    return null !== e && "object" == typeof e;
  }
  function a(e) {
    if ("[object Object]" !== n.call(e)) return !1;
    var t = Object.getPrototypeOf(e);
    return null === t || t === Object.prototype;
  }
  function s(e) {
    return "[object Function]" === n.call(e);
  }
  function l(e, t) {
    if (null != e)
      if (("object" != typeof e && (e = [e]), r(e)))
        for (var n = 0, o = e.length; n < o; n++) t.call(null, e[n], n, e);
      else
        for (var i in e)
          Object.prototype.hasOwnProperty.call(e, i) &&
            t.call(null, e[i], i, e);
  }
  var c = {
    isArray: r,
    isArrayBuffer: function (e) {
      return "[object ArrayBuffer]" === n.call(e);
    },
    isBuffer: function (e) {
      return (
        null !== e &&
        !o(e) &&
        null !== e.constructor &&
        !o(e.constructor) &&
        "function" == typeof e.constructor.isBuffer &&
        e.constructor.isBuffer(e)
      );
    },
    isFormData: function (e) {
      return "undefined" != typeof FormData && e instanceof FormData;
    },
    isArrayBufferView: function (e) {
      return "undefined" != typeof ArrayBuffer && ArrayBuffer.isView
        ? ArrayBuffer.isView(e)
        : e && e.buffer && e.buffer instanceof ArrayBuffer;
    },
    isString: function (e) {
      return "string" == typeof e;
    },
    isNumber: function (e) {
      return "number" == typeof e;
    },
    isObject: i,
    isPlainObject: a,
    isUndefined: o,
    isDate: function (e) {
      return "[object Date]" === n.call(e);
    },
    isFile: function (e) {
      return "[object File]" === n.call(e);
    },
    isBlob: function (e) {
      return "[object Blob]" === n.call(e);
    },
    isFunction: s,
    isStream: function (e) {
      return i(e) && s(e.pipe);
    },
    isURLSearchParams: function (e) {
      return (
        "undefined" != typeof URLSearchParams && e instanceof URLSearchParams
      );
    },
    isStandardBrowserEnv: function () {
      return (
        ("undefined" == typeof navigator ||
          ("ReactNative" !== navigator.product &&
            "NativeScript" !== navigator.product &&
            "NS" !== navigator.product)) &&
        "undefined" != typeof window &&
        "undefined" != typeof document
      );
    },
    forEach: l,
    merge: function e() {
      var t = {};
      function n(n, o) {
        a(t[o]) && a(n)
          ? (t[o] = e(t[o], n))
          : a(n)
          ? (t[o] = e({}, n))
          : r(n)
          ? (t[o] = n.slice())
          : (t[o] = n);
      }
      for (var o = 0, i = arguments.length; o < i; o++) l(arguments[o], n);
      return t;
    },
    extend: function (e, n, r) {
      return (
        l(n, function (n, o) {
          e[o] = r && "function" == typeof n ? t(n, r) : n;
        }),
        e
      );
    },
    trim: function (e) {
      return e.replace(/^\s*/, "").replace(/\s*$/, "");
    },
    stripBOM: function (e) {
      return 65279 === e.charCodeAt(0) && (e = e.slice(1)), e;
    },
  };
  function u(e) {
    return encodeURIComponent(e)
      .replace(/%3A/gi, ":")
      .replace(/%24/g, "$")
      .replace(/%2C/gi, ",")
      .replace(/%20/g, "+")
      .replace(/%5B/gi, "[")
      .replace(/%5D/gi, "]");
  }
  var d = function (e, t, n) {
    if (!t) return e;
    var r;
    if (n) r = n(t);
    else if (c.isURLSearchParams(t)) r = t.toString();
    else {
      var o = [];
      c.forEach(t, function (e, t) {
        null != e &&
          (c.isArray(e) ? (t += "[]") : (e = [e]),
          c.forEach(e, function (e) {
            c.isDate(e)
              ? (e = e.toISOString())
              : c.isObject(e) && (e = JSON.stringify(e)),
              o.push(u(t) + "=" + u(e));
          }));
      }),
        (r = o.join("&"));
    }
    if (r) {
      var i = e.indexOf("#");
      -1 !== i && (e = e.slice(0, i)),
        (e += (-1 === e.indexOf("?") ? "?" : "&") + r);
    }
    return e;
  };
  function p() {
    this.handlers = [];
  }
  (p.prototype.use = function (e, t) {
    return (
      this.handlers.push({ fulfilled: e, rejected: t }),
      this.handlers.length - 1
    );
  }),
    (p.prototype.eject = function (e) {
      this.handlers[e] && (this.handlers[e] = null);
    }),
    (p.prototype.forEach = function (e) {
      c.forEach(this.handlers, function (t) {
        null !== t && e(t);
      });
    });
  var f = p,
    m = function (e, t, n) {
      return (
        c.forEach(n, function (n) {
          e = n(e, t);
        }),
        e
      );
    },
    h = function (e) {
      return !(!e || !e.__CANCEL__);
    },
    g = function (e, t) {
      c.forEach(e, function (n, r) {
        r !== t &&
          r.toUpperCase() === t.toUpperCase() &&
          ((e[t] = n), delete e[r]);
      });
    },
    b = function (e, t, n, r, o) {
      return (function (e, t, n, r, o) {
        return (
          (e.config = t),
          n && (e.code = n),
          (e.request = r),
          (e.response = o),
          (e.isAxiosError = !0),
          (e.toJSON = function () {
            return {
              message: this.message,
              name: this.name,
              description: this.description,
              number: this.number,
              fileName: this.fileName,
              lineNumber: this.lineNumber,
              columnNumber: this.columnNumber,
              stack: this.stack,
              config: this.config,
              code: this.code,
            };
          }),
          e
        );
      })(new Error(e), t, n, r, o);
    },
    y = c.isStandardBrowserEnv()
      ? {
          write: function (e, t, n, r, o, i) {
            var a = [];
            a.push(e + "=" + encodeURIComponent(t)),
              c.isNumber(n) && a.push("expires=" + new Date(n).toGMTString()),
              c.isString(r) && a.push("path=" + r),
              c.isString(o) && a.push("domain=" + o),
              !0 === i && a.push("secure"),
              (document.cookie = a.join("; "));
          },
          read: function (e) {
            var t = document.cookie.match(
              new RegExp("(^|;\\s*)(" + e + ")=([^;]*)")
            );
            return t ? decodeURIComponent(t[3]) : null;
          },
          remove: function (e) {
            this.write(e, "", Date.now() - 864e5);
          },
        }
      : {
          write: function () {},
          read: function () {
            return null;
          },
          remove: function () {},
        },
    v = [
      "age",
      "authorization",
      "content-length",
      "content-type",
      "etag",
      "expires",
      "from",
      "host",
      "if-modified-since",
      "if-unmodified-since",
      "last-modified",
      "location",
      "max-forwards",
      "proxy-authorization",
      "referer",
      "retry-after",
      "user-agent",
    ],
    w = c.isStandardBrowserEnv()
      ? (function () {
          var e,
            t = /(msie|trident)/i.test(navigator.userAgent),
            n = document.createElement("a");
          function r(e) {
            var r = e;
            return (
              t && (n.setAttribute("href", r), (r = n.href)),
              n.setAttribute("href", r),
              {
                href: n.href,
                protocol: n.protocol ? n.protocol.replace(/:$/, "") : "",
                host: n.host,
                search: n.search ? n.search.replace(/^\?/, "") : "",
                hash: n.hash ? n.hash.replace(/^#/, "") : "",
                hostname: n.hostname,
                port: n.port,
                pathname:
                  "/" === n.pathname.charAt(0) ? n.pathname : "/" + n.pathname,
              }
            );
          }
          return (
            (e = r(window.location.href)),
            function (t) {
              var n = c.isString(t) ? r(t) : t;
              return n.protocol === e.protocol && n.host === e.host;
            }
          );
        })()
      : function () {
          return !0;
        },
    x = function (e) {
      return new Promise(function (t, n) {
        var r = e.data,
          o = e.headers;
        c.isFormData(r) && delete o["Content-Type"];
        var i = new XMLHttpRequest();
        if (e.auth) {
          var a = e.auth.username || "",
            s = e.auth.password
              ? unescape(encodeURIComponent(e.auth.password))
              : "";
          o.Authorization = "Basic " + btoa(a + ":" + s);
        }
        var l,
          u,
          p =
            ((l = e.baseURL),
            (u = e.url),
            l && !/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(u)
              ? (function (e, t) {
                  return t
                    ? e.replace(/\/+$/, "") + "/" + t.replace(/^\/+/, "")
                    : e;
                })(l, u)
              : u);
        if (
          (i.open(
            e.method.toUpperCase(),
            d(p, e.params, e.paramsSerializer),
            !0
          ),
          (i.timeout = e.timeout),
          (i.onreadystatechange = function () {
            if (
              i &&
              4 === i.readyState &&
              (0 !== i.status ||
                (i.responseURL && 0 === i.responseURL.indexOf("file:")))
            ) {
              var r,
                o,
                a,
                s,
                l,
                u =
                  "getAllResponseHeaders" in i
                    ? ((r = i.getAllResponseHeaders()),
                      (l = {}),
                      r
                        ? (c.forEach(r.split("\n"), function (e) {
                            if (
                              ((s = e.indexOf(":")),
                              (o = c.trim(e.substr(0, s)).toLowerCase()),
                              (a = c.trim(e.substr(s + 1))),
                              o)
                            ) {
                              if (l[o] && v.indexOf(o) >= 0) return;
                              l[o] =
                                "set-cookie" === o
                                  ? (l[o] ? l[o] : []).concat([a])
                                  : l[o]
                                  ? l[o] + ", " + a
                                  : a;
                            }
                          }),
                          l)
                        : l)
                    : null,
                d = {
                  data:
                    e.responseType && "text" !== e.responseType
                      ? i.response
                      : i.responseText,
                  status: i.status,
                  statusText: i.statusText,
                  headers: u,
                  config: e,
                  request: i,
                };
              !(function (e, t, n) {
                var r = n.config.validateStatus;
                n.status && r && !r(n.status)
                  ? t(
                      b(
                        "Request failed with status code " + n.status,
                        n.config,
                        null,
                        n.request,
                        n
                      )
                    )
                  : e(n);
              })(t, n, d),
                (i = null);
            }
          }),
          (i.onabort = function () {
            i && (n(b("Request aborted", e, "ECONNABORTED", i)), (i = null));
          }),
          (i.onerror = function () {
            n(b("Network Error", e, null, i)), (i = null);
          }),
          (i.ontimeout = function () {
            var t = "timeout of " + e.timeout + "ms exceeded";
            e.timeoutErrorMessage && (t = e.timeoutErrorMessage),
              n(b(t, e, "ECONNABORTED", i)),
              (i = null);
          }),
          c.isStandardBrowserEnv())
        ) {
          var f =
            (e.withCredentials || w(p)) && e.xsrfCookieName
              ? y.read(e.xsrfCookieName)
              : void 0;
          f && (o[e.xsrfHeaderName] = f);
        }
        if (
          ("setRequestHeader" in i &&
            c.forEach(o, function (e, t) {
              void 0 === r && "content-type" === t.toLowerCase()
                ? delete o[t]
                : i.setRequestHeader(t, e);
            }),
          c.isUndefined(e.withCredentials) ||
            (i.withCredentials = !!e.withCredentials),
          e.responseType)
        )
          try {
            i.responseType = e.responseType;
          } catch (t) {
            if ("json" !== e.responseType) throw t;
          }
        "function" == typeof e.onDownloadProgress &&
          i.addEventListener("progress", e.onDownloadProgress),
          "function" == typeof e.onUploadProgress &&
            i.upload &&
            i.upload.addEventListener("progress", e.onUploadProgress),
          e.cancelToken &&
            e.cancelToken.promise.then(function (e) {
              i && (i.abort(), n(e), (i = null));
            }),
          r || (r = null),
          i.send(r);
      });
    },
    S = { "Content-Type": "application/x-www-form-urlencoded" };
  function T(e, t) {
    !c.isUndefined(e) &&
      c.isUndefined(e["Content-Type"]) &&
      (e["Content-Type"] = t);
  }
  var _,
    $ = {
      adapter:
        (("undefined" != typeof XMLHttpRequest ||
          ("undefined" != typeof process &&
            "[object process]" === Object.prototype.toString.call(process))) &&
          (_ = x),
        _),
      transformRequest: [
        function (e, t) {
          return (
            g(t, "Accept"),
            g(t, "Content-Type"),
            c.isFormData(e) ||
            c.isArrayBuffer(e) ||
            c.isBuffer(e) ||
            c.isStream(e) ||
            c.isFile(e) ||
            c.isBlob(e)
              ? e
              : c.isArrayBufferView(e)
              ? e.buffer
              : c.isURLSearchParams(e)
              ? (T(t, "application/x-www-form-urlencoded;charset=utf-8"),
                e.toString())
              : c.isObject(e)
              ? (T(t, "application/json;charset=utf-8"), JSON.stringify(e))
              : e
          );
        },
      ],
      transformResponse: [
        function (e) {
          if ("string" == typeof e)
            try {
              e = JSON.parse(e);
            } catch (e) {}
          return e;
        },
      ],
      timeout: 0,
      xsrfCookieName: "XSRF-TOKEN",
      xsrfHeaderName: "X-XSRF-TOKEN",
      maxContentLength: -1,
      maxBodyLength: -1,
      validateStatus: function (e) {
        return e >= 200 && e < 300;
      },
    };
  ($.headers = { common: { Accept: "application/json, text/plain, */*" } }),
    c.forEach(["delete", "get", "head"], function (e) {
      $.headers[e] = {};
    }),
    c.forEach(["post", "put", "patch"], function (e) {
      $.headers[e] = c.merge(S);
    });
  var k = $;
  function E(e) {
    e.cancelToken && e.cancelToken.throwIfRequested();
  }
  var O = function (e) {
      return (
        E(e),
        (e.headers = e.headers || {}),
        (e.data = m(e.data, e.headers, e.transformRequest)),
        (e.headers = c.merge(
          e.headers.common || {},
          e.headers[e.method] || {},
          e.headers
        )),
        c.forEach(
          ["delete", "get", "head", "post", "put", "patch", "common"],
          function (t) {
            delete e.headers[t];
          }
        ),
        (e.adapter || k.adapter)(e).then(
          function (t) {
            return (
              E(e), (t.data = m(t.data, t.headers, e.transformResponse)), t
            );
          },
          function (t) {
            return (
              h(t) ||
                (E(e),
                t &&
                  t.response &&
                  (t.response.data = m(
                    t.response.data,
                    t.response.headers,
                    e.transformResponse
                  ))),
              Promise.reject(t)
            );
          }
        )
      );
    },
    C = function (e, t) {
      t = t || {};
      var n = {},
        r = ["url", "method", "data"],
        o = ["headers", "auth", "proxy", "params"],
        i = [
          "baseURL",
          "transformRequest",
          "transformResponse",
          "paramsSerializer",
          "timeout",
          "timeoutMessage",
          "withCredentials",
          "adapter",
          "responseType",
          "xsrfCookieName",
          "xsrfHeaderName",
          "onUploadProgress",
          "onDownloadProgress",
          "decompress",
          "maxContentLength",
          "maxBodyLength",
          "maxRedirects",
          "transport",
          "httpAgent",
          "httpsAgent",
          "cancelToken",
          "socketPath",
          "responseEncoding",
        ],
        a = ["validateStatus"];
      function s(e, t) {
        return c.isPlainObject(e) && c.isPlainObject(t)
          ? c.merge(e, t)
          : c.isPlainObject(t)
          ? c.merge({}, t)
          : c.isArray(t)
          ? t.slice()
          : t;
      }
      function l(r) {
        c.isUndefined(t[r])
          ? c.isUndefined(e[r]) || (n[r] = s(void 0, e[r]))
          : (n[r] = s(e[r], t[r]));
      }
      c.forEach(r, function (e) {
        c.isUndefined(t[e]) || (n[e] = s(void 0, t[e]));
      }),
        c.forEach(o, l),
        c.forEach(i, function (r) {
          c.isUndefined(t[r])
            ? c.isUndefined(e[r]) || (n[r] = s(void 0, e[r]))
            : (n[r] = s(void 0, t[r]));
        }),
        c.forEach(a, function (r) {
          r in t ? (n[r] = s(e[r], t[r])) : r in e && (n[r] = s(void 0, e[r]));
        });
      var u = r.concat(o).concat(i).concat(a),
        d = Object.keys(e)
          .concat(Object.keys(t))
          .filter(function (e) {
            return -1 === u.indexOf(e);
          });
      return c.forEach(d, l), n;
    };
  function I(e) {
    (this.defaults = e),
      (this.interceptors = { request: new f(), response: new f() });
  }
  (I.prototype.request = function (e) {
    "string" == typeof e
      ? ((e = arguments[1] || {}).url = arguments[0])
      : (e = e || {}),
      (e = C(this.defaults, e)).method
        ? (e.method = e.method.toLowerCase())
        : this.defaults.method
        ? (e.method = this.defaults.method.toLowerCase())
        : (e.method = "get");
    var t = [O, void 0],
      n = Promise.resolve(e);
    for (
      this.interceptors.request.forEach(function (e) {
        t.unshift(e.fulfilled, e.rejected);
      }),
        this.interceptors.response.forEach(function (e) {
          t.push(e.fulfilled, e.rejected);
        });
      t.length;

    )
      n = n.then(t.shift(), t.shift());
    return n;
  }),
    (I.prototype.getUri = function (e) {
      return (
        (e = C(this.defaults, e)),
        d(e.url, e.params, e.paramsSerializer).replace(/^\?/, "")
      );
    }),
    c.forEach(["delete", "get", "head", "options"], function (e) {
      I.prototype[e] = function (t, n) {
        return this.request(
          C(n || {}, { method: e, url: t, data: (n || {}).data })
        );
      };
    }),
    c.forEach(["post", "put", "patch"], function (e) {
      I.prototype[e] = function (t, n, r) {
        return this.request(C(r || {}, { method: e, url: t, data: n }));
      };
    });
  var P = I;
  function B(e) {
    this.message = e;
  }
  (B.prototype.toString = function () {
    return "Cancel" + (this.message ? ": " + this.message : "");
  }),
    (B.prototype.__CANCEL__ = !0);
  var U = B;
  function R(e) {
    if ("function" != typeof e)
      throw new TypeError("executor must be a function.");
    var t;
    this.promise = new Promise(function (e) {
      t = e;
    });
    var n = this;
    e(function (e) {
      n.reason || ((n.reason = new U(e)), t(n.reason));
    });
  }
  (R.prototype.throwIfRequested = function () {
    if (this.reason) throw this.reason;
  }),
    (R.source = function () {
      var e;
      return {
        token: new R(function (t) {
          e = t;
        }),
        cancel: e,
      };
    });
  var L = R;
  function A(e) {
    var n = new P(e),
      r = t(P.prototype.request, n);
    return c.extend(r, P.prototype, n), c.extend(r, n), r;
  }
  var M = A(k);
  (M.Axios = P),
    (M.create = function (e) {
      return A(C(M.defaults, e));
    }),
    (M.Cancel = U),
    (M.CancelToken = L),
    (M.isCancel = h),
    (M.all = function (e) {
      return Promise.all(e);
    }),
    (M.spread = function (e) {
      return function (t) {
        return e.apply(null, t);
      };
    }),
    (M.isAxiosError = function (e) {
      return "object" == typeof e && !0 === e.isAxiosError;
    });
  var j = M,
    D = M;
  j.default = D;
  var F = j,
    N =
      "undefined" != typeof globalThis
        ? globalThis
        : "undefined" != typeof window
        ? window
        : "undefined" != typeof global
        ? global
        : "undefined" != typeof self
        ? self
        : {};
  /*!
   * Platform.js v1.3.6
   * Copyright 2014-2020 Benjamin Tan
   * Copyright 2011-2013 John-David Dalton
   * Available under MIT license
   */
  var W = (function (e) {
    var t = { exports: {} };
    return e(t, t.exports), t.exports;
  })(function (e, t) {
    (function () {
      var n = ({ function: !0, object: !0 }[typeof window] && window) || this,
        r = t,
        o = e && !e.nodeType && e,
        i = r && o && "object" == typeof N && N;
      !i || (i.global !== i && i.window !== i && i.self !== i) || (n = i);
      var a = Math.pow(2, 53) - 1,
        s = /\bOpera/,
        l = Object.prototype,
        c = l.hasOwnProperty,
        u = l.toString;
      function d(e) {
        return (e = String(e)).charAt(0).toUpperCase() + e.slice(1);
      }
      function p(e) {
        return (e = b(e)), /^(?:webOS|i(?:OS|P))/.test(e) ? e : d(e);
      }
      function f(e, t) {
        for (var n in e) c.call(e, n) && t(e[n], n, e);
      }
      function m(e) {
        return null == e ? d(e) : u.call(e).slice(8, -1);
      }
      function h(e) {
        return String(e).replace(/([ -])(?!$)/g, "$1?");
      }
      function g(e, t) {
        var n = null;
        return (
          (function (e, t) {
            var n = -1,
              r = e ? e.length : 0;
            if ("number" == typeof r && r > -1 && r <= a)
              for (; ++n < r; ) t(e[n], n, e);
            else f(e, t);
          })(e, function (r, o) {
            n = t(n, r, o, e);
          }),
          n
        );
      }
      function b(e) {
        return String(e).replace(/^ +| +$/g, "");
      }
      var y = (function e(t) {
        var r = n,
          o = t && "object" == typeof t && "String" != m(t);
        o && ((r = t), (t = null));
        var i = r.navigator || {},
          a = i.userAgent || "";
        t || (t = a);
        var l,
          c,
          d,
          y,
          v,
          w = o
            ? !!i.likeChrome
            : /\bChrome\b/.test(t) && !/internal|\n/i.test(u.toString()),
          x = "Object",
          S = o ? x : "ScriptBridgingProxyObject",
          T = o ? x : "Environment",
          _ = o && r.java ? "JavaPackage" : m(r.java),
          $ = o ? x : "RuntimeObject",
          k = /\bJava/.test(_) && r.java,
          E = k && m(r.environment) == T,
          O = k ? "a" : "α",
          C = k ? "b" : "β",
          I = r.document || {},
          P = r.operamini || r.opera,
          B = s.test((B = o && P ? P["[[Class]]"] : m(P))) ? B : (P = null),
          U = t,
          R = [],
          L = null,
          A = t == a,
          M = A && P && "function" == typeof P.version && P.version(),
          j = g(
            [
              { label: "EdgeHTML", pattern: "Edge" },
              "Trident",
              { label: "WebKit", pattern: "AppleWebKit" },
              "iCab",
              "Presto",
              "NetFront",
              "Tasman",
              "KHTML",
              "Gecko",
            ],
            function (e, n) {
              return (
                e ||
                (RegExp("\\b" + (n.pattern || h(n)) + "\\b", "i").exec(t) &&
                  (n.label || n))
              );
            }
          ),
          D = (function (e) {
            return g(e, function (e, n) {
              return (
                e ||
                (RegExp("\\b" + (n.pattern || h(n)) + "\\b", "i").exec(t) &&
                  (n.label || n))
              );
            });
          })([
            "Adobe AIR",
            "Arora",
            "Avant Browser",
            "Breach",
            "Camino",
            "Electron",
            "Epiphany",
            "Fennec",
            "Flock",
            "Galeon",
            "GreenBrowser",
            "iCab",
            "Iceweasel",
            "K-Meleon",
            "Konqueror",
            "Lunascape",
            "Maxthon",
            { label: "Microsoft Edge", pattern: "(?:Edge|Edg|EdgA|EdgiOS)" },
            "Midori",
            "Nook Browser",
            "PaleMoon",
            "PhantomJS",
            "Raven",
            "Rekonq",
            "RockMelt",
            { label: "Samsung Internet", pattern: "SamsungBrowser" },
            "SeaMonkey",
            { label: "Silk", pattern: "(?:Cloud9|Silk-Accelerated)" },
            "Sleipnir",
            "SlimBrowser",
            { label: "SRWare Iron", pattern: "Iron" },
            "Sunrise",
            "Swiftfox",
            "Vivaldi",
            "Waterfox",
            "WebPositive",
            { label: "Yandex Browser", pattern: "YaBrowser" },
            { label: "UC Browser", pattern: "UCBrowser" },
            "Opera Mini",
            { label: "Opera Mini", pattern: "OPiOS" },
            "Opera",
            { label: "Opera", pattern: "OPR" },
            "Chromium",
            "Chrome",
            { label: "Chrome", pattern: "(?:HeadlessChrome)" },
            { label: "Chrome Mobile", pattern: "(?:CriOS|CrMo)" },
            { label: "Firefox", pattern: "(?:Firefox|Minefield)" },
            { label: "Firefox for iOS", pattern: "FxiOS" },
            { label: "IE", pattern: "IEMobile" },
            { label: "IE", pattern: "MSIE" },
            "Safari",
          ]),
          F = H([
            { label: "BlackBerry", pattern: "BB10" },
            "BlackBerry",
            { label: "Galaxy S", pattern: "GT-I9000" },
            { label: "Galaxy S2", pattern: "GT-I9100" },
            { label: "Galaxy S3", pattern: "GT-I9300" },
            { label: "Galaxy S4", pattern: "GT-I9500" },
            { label: "Galaxy S5", pattern: "SM-G900" },
            { label: "Galaxy S6", pattern: "SM-G920" },
            { label: "Galaxy S6 Edge", pattern: "SM-G925" },
            { label: "Galaxy S7", pattern: "SM-G930" },
            { label: "Galaxy S7 Edge", pattern: "SM-G935" },
            "Google TV",
            "Lumia",
            "iPad",
            "iPod",
            "iPhone",
            "Kindle",
            { label: "Kindle Fire", pattern: "(?:Cloud9|Silk-Accelerated)" },
            "Nexus",
            "Nook",
            "PlayBook",
            "PlayStation Vita",
            "PlayStation",
            "TouchPad",
            "Transformer",
            { label: "Wii U", pattern: "WiiU" },
            "Wii",
            "Xbox One",
            { label: "Xbox 360", pattern: "Xbox" },
            "Xoom",
          ]),
          N = (function (e) {
            return g(e, function (e, n, r) {
              return (
                e ||
                ((n[F] ||
                  n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(F)] ||
                  RegExp("\\b" + h(r) + "(?:\\b|\\w*\\d)", "i").exec(t)) &&
                  r)
              );
            });
          })({
            Apple: { iPad: 1, iPhone: 1, iPod: 1 },
            Alcatel: {},
            Archos: {},
            Amazon: { Kindle: 1, "Kindle Fire": 1 },
            Asus: { Transformer: 1 },
            "Barnes & Noble": { Nook: 1 },
            BlackBerry: { PlayBook: 1 },
            Google: { "Google TV": 1, Nexus: 1 },
            HP: { TouchPad: 1 },
            HTC: {},
            Huawei: {},
            Lenovo: {},
            LG: {},
            Microsoft: { Xbox: 1, "Xbox One": 1 },
            Motorola: { Xoom: 1 },
            Nintendo: { "Wii U": 1, Wii: 1 },
            Nokia: { Lumia: 1 },
            Oppo: {},
            Samsung: {
              "Galaxy S": 1,
              "Galaxy S2": 1,
              "Galaxy S3": 1,
              "Galaxy S4": 1,
            },
            Sony: { PlayStation: 1, "PlayStation Vita": 1 },
            Xiaomi: { Mi: 1, Redmi: 1 },
          }),
          W = (function (e) {
            return g(e, function (e, n) {
              var r = n.pattern || h(n);
              return (
                !e &&
                  (e = RegExp("\\b" + r + "(?:/[\\d.]+|[ \\w.]*)", "i").exec(
                    t
                  )) &&
                  (e = (function (e, t, n) {
                    var r = {
                      "10.0": "10",
                      6.4: "10 Technical Preview",
                      6.3: "8.1",
                      6.2: "8",
                      6.1: "Server 2008 R2 / 7",
                      "6.0": "Server 2008 / Vista",
                      5.2: "Server 2003 / XP 64-bit",
                      5.1: "XP",
                      5.01: "2000 SP1",
                      "5.0": "2000",
                      "4.0": "NT",
                      "4.90": "ME",
                    };
                    return (
                      t &&
                        n &&
                        /^Win/i.test(e) &&
                        !/^Windows Phone /i.test(e) &&
                        (r = r[/[\d.]+$/.exec(e)]) &&
                        (e = "Windows " + r),
                      (e = String(e)),
                      t && n && (e = e.replace(RegExp(t, "i"), n)),
                      p(
                        e
                          .replace(/ ce$/i, " CE")
                          .replace(/\bhpw/i, "web")
                          .replace(/\bMacintosh\b/, "Mac OS")
                          .replace(/_PowerPC\b/i, " OS")
                          .replace(/\b(OS X) [^ \d]+/i, "$1")
                          .replace(/\bMac (OS X)\b/, "$1")
                          .replace(/\/(\d)/, " $1")
                          .replace(/_/g, ".")
                          .replace(/(?: BePC|[ .]*fc[ \d.]+)$/i, "")
                          .replace(/\bx86\.64\b/gi, "x86_64")
                          .replace(/\b(Windows Phone) OS\b/, "$1")
                          .replace(/\b(Chrome OS \w+) [\d.]+\b/, "$1")
                          .split(" on ")[0]
                      )
                    );
                  })(e, r, n.label || n)),
                e
              );
            });
          })([
            "Windows Phone",
            "KaiOS",
            "Android",
            "CentOS",
            { label: "Chrome OS", pattern: "CrOS" },
            "Debian",
            { label: "DragonFly BSD", pattern: "DragonFly" },
            "Fedora",
            "FreeBSD",
            "Gentoo",
            "Haiku",
            "Kubuntu",
            "Linux Mint",
            "OpenBSD",
            "Red Hat",
            "SuSE",
            "Ubuntu",
            "Xubuntu",
            "Cygwin",
            "Symbian OS",
            "hpwOS",
            "webOS ",
            "webOS",
            "Tablet OS",
            "Tizen",
            "Linux",
            "Mac OS X",
            "Macintosh",
            "Mac",
            "Windows 98;",
            "Windows ",
          ]);
        function H(e) {
          return g(e, function (e, n) {
            var r = n.pattern || h(n);
            return (
              !e &&
                (e =
                  RegExp("\\b" + r + " *\\d+[.\\w_]*", "i").exec(t) ||
                  RegExp("\\b" + r + " *\\w+-[\\w]*", "i").exec(t) ||
                  RegExp(
                    "\\b" + r + "(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)",
                    "i"
                  ).exec(t)) &&
                ((e = String(
                  n.label && !RegExp(r, "i").test(n.label) ? n.label : e
                ).split("/"))[1] &&
                  !/[\d.]+/.test(e[0]) &&
                  (e[0] += " " + e[1]),
                (n = n.label || n),
                (e = p(
                  e[0]
                    .replace(RegExp(r, "i"), n)
                    .replace(RegExp("; *(?:" + n + "[_-])?", "i"), " ")
                    .replace(RegExp("(" + n + ")[-_.]?(\\w)", "i"), "$1 $2")
                ))),
              e
            );
          });
        }
        function G(e) {
          return g(e, function (e, n) {
            return (
              e ||
              (RegExp(
                n + "(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)",
                "i"
              ).exec(t) || 0)[1] ||
              null
            );
          });
        }
        if (
          (j && (j = [j]),
          /\bAndroid\b/.test(W) &&
            !F &&
            (l = /\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t)) &&
            (F = b(l[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i, "") || null),
          N && !F
            ? (F = H([N]))
            : N &&
              F &&
              (F = F.replace(
                RegExp("^(" + h(N) + ")[-_.\\s]", "i"),
                N + " "
              ).replace(RegExp("^(" + h(N) + ")[-_.]?(\\w)", "i"), N + " $2")),
          (l = /\bGoogle TV\b/.exec(F)) && (F = l[0]),
          /\bSimulator\b/i.test(t) && (F = (F ? F + " " : "") + "Simulator"),
          "Opera Mini" == D &&
            /\bOPiOS\b/.test(t) &&
            R.push("running in Turbo/Uncompressed mode"),
          "IE" == D && /\blike iPhone OS\b/.test(t)
            ? ((N = (l = e(t.replace(/like iPhone OS/, ""))).manufacturer),
              (F = l.product))
            : /^iP/.test(F)
            ? (D || (D = "Safari"),
              (W =
                "iOS" +
                ((l = / OS ([\d_]+)/i.exec(t))
                  ? " " + l[1].replace(/_/g, ".")
                  : "")))
            : "Konqueror" == D && /^Linux\b/i.test(W)
            ? (W = "Kubuntu")
            : (N &&
                "Google" != N &&
                ((/Chrome/.test(D) && !/\bMobile Safari\b/i.test(t)) ||
                  /\bVita\b/.test(F))) ||
              (/\bAndroid\b/.test(W) &&
                /^Chrome/.test(D) &&
                /\bVersion\//i.test(t))
            ? ((D = "Android Browser"),
              (W = /\bAndroid\b/.test(W) ? W : "Android"))
            : "Silk" == D
            ? (/\bMobi/i.test(t) ||
                ((W = "Android"), R.unshift("desktop mode")),
              /Accelerated *= *true/i.test(t) && R.unshift("accelerated"))
            : "UC Browser" == D && /\bUCWEB\b/.test(t)
            ? R.push("speed mode")
            : "PaleMoon" == D && (l = /\bFirefox\/([\d.]+)\b/.exec(t))
            ? R.push("identifying as Firefox " + l[1])
            : "Firefox" == D && (l = /\b(Mobile|Tablet|TV)\b/i.exec(t))
            ? (W || (W = "Firefox OS"), F || (F = l[1]))
            : !D ||
              (l =
                !/\bMinefield\b/i.test(t) && /\b(?:Firefox|Safari)\b/.exec(D))
            ? (D &&
                !F &&
                /[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(l + "/") + 8)) &&
                (D = null),
              (l = F || N || W) &&
                (F ||
                  N ||
                  /\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(W)) &&
                (D =
                  /[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(W) ? W : l) +
                  " Browser"))
            : "Electron" == D &&
              (l = (/\bChrome\/([\d.]+)\b/.exec(t) || 0)[1]) &&
              R.push("Chromium " + l),
          M ||
            (M = G([
              "(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)",
              "Version",
              h(D),
              "(?:Firefox|Minefield|NetFront)",
            ])),
          (l =
            ("iCab" == j && parseFloat(M) > 3
              ? "WebKit"
              : /\bOpera\b/.test(D) &&
                (/\bOPR\b/.test(t) ? "Blink" : "Presto")) ||
            (/\b(?:Midori|Nook|Safari)\b/i.test(t) &&
              !/^(?:Trident|EdgeHTML)$/.test(j) &&
              "WebKit") ||
            (!j &&
              /\bMSIE\b/i.test(t) &&
              ("Mac OS" == W ? "Tasman" : "Trident")) ||
            ("WebKit" == j &&
              /\bPlayStation\b(?! Vita\b)/i.test(D) &&
              "NetFront")) && (j = [l]),
          "IE" == D && (l = (/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t) || 0)[1])
            ? ((D += " Mobile"),
              (W = "Windows Phone " + (/\+$/.test(l) ? l : l + ".x")),
              R.unshift("desktop mode"))
            : /\bWPDesktop\b/i.test(t)
            ? ((D = "IE Mobile"),
              (W = "Windows Phone 8.x"),
              R.unshift("desktop mode"),
              M || (M = (/\brv:([\d.]+)/.exec(t) || 0)[1]))
            : "IE" != D &&
              "Trident" == j &&
              (l = /\brv:([\d.]+)/.exec(t)) &&
              (D && R.push("identifying as " + D + (M ? " " + M : "")),
              (D = "IE"),
              (M = l[1])),
          A)
        ) {
          if (
            ((y = "global"),
            (v = null != (d = r) ? typeof d[y] : "number"),
            /^(?:boolean|number|string|undefined)$/.test(v) ||
              ("object" == v && !d[y]))
          )
            m((l = r.runtime)) == S
              ? ((D = "Adobe AIR"), (W = l.flash.system.Capabilities.os))
              : m((l = r.phantom)) == $
              ? ((D = "PhantomJS"),
                (M =
                  (l = l.version || null) &&
                  l.major + "." + l.minor + "." + l.patch))
              : "number" == typeof I.documentMode &&
                (l = /\bTrident\/(\d+)/i.exec(t))
              ? ((M = [M, I.documentMode]),
                (l = +l[1] + 4) != M[1] &&
                  (R.push("IE " + M[1] + " mode"),
                  j && (j[1] = ""),
                  (M[1] = l)),
                (M = "IE" == D ? String(M[1].toFixed(1)) : M[0]))
              : "number" == typeof I.documentMode &&
                /^(?:Chrome|Firefox)\b/.test(D) &&
                (R.push("masking as " + D + " " + M),
                (D = "IE"),
                (M = "11.0"),
                (j = ["Trident"]),
                (W = "Windows"));
          else if (
            (k &&
              ((U = (l = k.lang.System).getProperty("os.arch")),
              (W =
                W ||
                l.getProperty("os.name") + " " + l.getProperty("os.version"))),
            E)
          ) {
            try {
              (M = r.require("ringo/engine").version.join(".")),
                (D = "RingoJS");
            } catch (e) {
              (l = r.system) &&
                l.global.system == r.system &&
                ((D = "Narwhal"), W || (W = l[0].os || null));
            }
            D || (D = "Rhino");
          } else
            "object" == typeof r.process &&
              !r.process.browser &&
              (l = r.process) &&
              ("object" == typeof l.versions &&
                ("string" == typeof l.versions.electron
                  ? (R.push("Node " + l.versions.node),
                    (D = "Electron"),
                    (M = l.versions.electron))
                  : "string" == typeof l.versions.nw &&
                    (R.push("Chromium " + M, "Node " + l.versions.node),
                    (D = "NW.js"),
                    (M = l.versions.nw))),
              D ||
                ((D = "Node.js"),
                (U = l.arch),
                (W = l.platform),
                (M = (M = /[\d.]+/.exec(l.version)) ? M[0] : null)));
          W = W && p(W);
        }
        if (
          (M &&
            (l =
              /(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(M) ||
              /(?:alpha|beta)(?: ?\d)?/i.exec(
                t + ";" + (A && i.appMinorVersion)
              ) ||
              (/\bMinefield\b/i.test(t) && "a")) &&
            ((L = /b/i.test(l) ? "beta" : "alpha"),
            (M =
              M.replace(RegExp(l + "\\+?$"), "") +
              ("beta" == L ? C : O) +
              (/\d+\+?/.exec(l) || ""))),
          "Fennec" == D ||
            ("Firefox" == D && /\b(?:Android|Firefox OS|KaiOS)\b/.test(W)))
        )
          D = "Firefox Mobile";
        else if ("Maxthon" == D && M) M = M.replace(/\.[\d.]+/, ".x");
        else if (/\bXbox\b/i.test(F))
          "Xbox 360" == F && (W = null),
            "Xbox 360" == F &&
              /\bIEMobile\b/.test(t) &&
              R.unshift("mobile mode");
        else if (
          (!/^(?:Chrome|IE|Opera)$/.test(D) &&
            (!D || F || /Browser|Mobi/.test(D))) ||
          ("Windows CE" != W && !/Mobi/i.test(t))
        )
          if ("IE" == D && A)
            try {
              null === r.external && R.unshift("platform preview");
            } catch (e) {
              R.unshift("embedded");
            }
          else
            (/\bBlackBerry\b/.test(F) || /\bBB10\b/.test(t)) &&
            (l =
              (RegExp(F.replace(/ +/g, " *") + "/([.\\d]+)", "i").exec(t) ||
                0)[1] || M)
              ? ((W =
                  ((l = [l, /BB10/.test(t)])[1]
                    ? ((F = null), (N = "BlackBerry"))
                    : "Device Software") +
                  " " +
                  l[0]),
                (M = null))
              : this != f &&
                "Wii" != F &&
                ((A && P) ||
                  (/Opera/.test(D) && /\b(?:MSIE|Firefox)\b/i.test(t)) ||
                  ("Firefox" == D && /\bOS X (?:\d+\.){2,}/.test(W)) ||
                  ("IE" == D &&
                    ((W && !/^Win/.test(W) && M > 5.5) ||
                      (/\bWindows XP\b/.test(W) && M > 8) ||
                      (8 == M && !/\bTrident\b/.test(t))))) &&
                !s.test((l = e.call(f, t.replace(s, "") + ";"))) &&
                l.name &&
                ((l = "ing as " + l.name + ((l = l.version) ? " " + l : "")),
                s.test(D)
                  ? (/\bIE\b/.test(l) && "Mac OS" == W && (W = null),
                    (l = "identify" + l))
                  : ((l = "mask" + l),
                    (D = B
                      ? p(B.replace(/([a-z])([A-Z])/g, "$1 $2"))
                      : "Opera"),
                    /\bIE\b/.test(l) && (W = null),
                    A || (M = null)),
                (j = ["Presto"]),
                R.push(l));
        else D += " Mobile";
        (l = (/\bAppleWebKit\/([\d.]+\+?)/i.exec(t) || 0)[1]) &&
          ((l = [parseFloat(l.replace(/\.(\d)$/, ".0$1")), l]),
          "Safari" == D && "+" == l[1].slice(-1)
            ? ((D = "WebKit Nightly"), (L = "alpha"), (M = l[1].slice(0, -1)))
            : (M != l[1] &&
                M != (l[2] = (/\bSafari\/([\d.]+\+?)/i.exec(t) || 0)[1])) ||
              (M = null),
          (l[1] = (/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t) || 0)[1]),
          537.36 == l[0] &&
            537.36 == l[2] &&
            parseFloat(l[1]) >= 28 &&
            "WebKit" == j &&
            (j = ["Blink"]),
          A && (w || l[1])
            ? (j && (j[1] = "like Chrome"),
              (l =
                l[1] ||
                ((l = l[0]) < 530
                  ? 1
                  : l < 532
                  ? 2
                  : l < 532.05
                  ? 3
                  : l < 533
                  ? 4
                  : l < 534.03
                  ? 5
                  : l < 534.07
                  ? 6
                  : l < 534.1
                  ? 7
                  : l < 534.13
                  ? 8
                  : l < 534.16
                  ? 9
                  : l < 534.24
                  ? 10
                  : l < 534.3
                  ? 11
                  : l < 535.01
                  ? 12
                  : l < 535.02
                  ? "13+"
                  : l < 535.07
                  ? 15
                  : l < 535.11
                  ? 16
                  : l < 535.19
                  ? 17
                  : l < 536.05
                  ? 18
                  : l < 536.1
                  ? 19
                  : l < 537.01
                  ? 20
                  : l < 537.11
                  ? "21+"
                  : l < 537.13
                  ? 23
                  : l < 537.18
                  ? 24
                  : l < 537.24
                  ? 25
                  : l < 537.36
                  ? 26
                  : "Blink" != j
                  ? "27"
                  : "28")))
            : (j && (j[1] = "like Safari"),
              (l =
                (l = l[0]) < 400
                  ? 1
                  : l < 500
                  ? 2
                  : l < 526
                  ? 3
                  : l < 533
                  ? 4
                  : l < 534
                  ? "4+"
                  : l < 535
                  ? 5
                  : l < 537
                  ? 6
                  : l < 538
                  ? 7
                  : l < 601
                  ? 8
                  : l < 602
                  ? 9
                  : l < 604
                  ? 10
                  : l < 606
                  ? 11
                  : l < 608
                  ? 12
                  : "12")),
          j &&
            (j[1] +=
              " " +
              (l += "number" == typeof l ? ".x" : /[.+]/.test(l) ? "" : "+")),
          "Safari" == D && (!M || parseInt(M) > 45)
            ? (M = l)
            : "Chrome" == D &&
              /\bHeadlessChrome/i.test(t) &&
              R.unshift("headless")),
          "Opera" == D && (l = /\bzbov|zvav$/.exec(W))
            ? ((D += " "),
              R.unshift("desktop mode"),
              "zvav" == l ? ((D += "Mini"), (M = null)) : (D += "Mobile"),
              (W = W.replace(RegExp(" *" + l + "$"), "")))
            : "Safari" == D && /\bChrome\b/.exec(j && j[1])
            ? (R.unshift("desktop mode"),
              (D = "Chrome Mobile"),
              (M = null),
              /\bOS X\b/.test(W)
                ? ((N = "Apple"), (W = "iOS 4.3+"))
                : (W = null))
            : /\bSRWare Iron\b/.test(D) && !M && (M = G("Chrome")),
          M &&
            0 == M.indexOf((l = /[\d.]+$/.exec(W))) &&
            t.indexOf("/" + l + "-") > -1 &&
            (W = b(W.replace(l, ""))),
          W &&
            -1 != W.indexOf(D) &&
            !RegExp(D + " OS").test(W) &&
            (W = W.replace(RegExp(" *" + h(D) + " *"), "")),
          j &&
            !/\b(?:Avant|Nook)\b/.test(D) &&
            (/Browser|Lunascape|Maxthon/.test(D) ||
              ("Safari" != D && /^iOS/.test(W) && /\bSafari\b/.test(j[1])) ||
              (/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(
                D
              ) &&
                j[1])) &&
            (l = j[j.length - 1]) &&
            R.push(l),
          R.length && (R = ["(" + R.join("; ") + ")"]),
          N && F && F.indexOf(N) < 0 && R.push("on " + N),
          F && R.push((/^on /.test(R[R.length - 1]) ? "" : "on ") + F),
          W &&
            ((l = / ([\d.+]+)$/.exec(W)),
            (c = l && "/" == W.charAt(W.length - l[0].length - 1)),
            (W = {
              architecture: 32,
              family: l && !c ? W.replace(l[0], "") : W,
              version: l ? l[1] : null,
              toString: function () {
                var e = this.version;
                return (
                  this.family +
                  (e && !c ? " " + e : "") +
                  (64 == this.architecture ? " 64-bit" : "")
                );
              },
            })),
          (l = /\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(U)) &&
          !/\bi686\b/i.test(U)
            ? (W &&
                ((W.architecture = 64),
                (W.family = W.family.replace(RegExp(" *" + l), ""))),
              D &&
                (/\bWOW64\b/i.test(t) ||
                  (A &&
                    /\w(?:86|32)$/.test(i.cpuClass || i.platform) &&
                    !/\bWin64; x64\b/i.test(t))) &&
                R.unshift("32-bit"))
            : W &&
              /^OS X/.test(W.family) &&
              "Chrome" == D &&
              parseFloat(M) >= 39 &&
              (W.architecture = 64),
          t || (t = null);
        var z = {};
        return (
          (z.description = t),
          (z.layout = j && j[0]),
          (z.manufacturer = N),
          (z.name = D),
          (z.prerelease = L),
          (z.product = F),
          (z.ua = t),
          (z.version = D && M),
          (z.os = W || {
            architecture: null,
            family: null,
            version: null,
            toString: function () {
              return "null";
            },
          }),
          (z.parse = e),
          (z.toString = function () {
            return this.description || "";
          }),
          z.version && R.unshift(M),
          z.name && R.unshift(D),
          W &&
            D &&
            (W != String(W).split(" ")[0] || (W != D.split(" ")[0] && !F)) &&
            R.push(F ? "(" + W + ")" : "on " + W),
          R.length && (z.description = R.join(" ")),
          z
        );
      })();
      r && o
        ? f(y, function (e, t) {
            r[t] = e;
          })
        : (n.platform = y);
    }.call(N));
  });
  function H() {}
  function G(e) {
    return e();
  }
  function z() {
    return Object.create(null);
  }
  function V(e) {
    e.forEach(G);
  }
  function q(e) {
    return "function" == typeof e;
  }
  function X(e, t) {
    return e != e
      ? t == t
      : e !== t || (e && "object" == typeof e) || "function" == typeof e;
  }
  function K(e, t, n) {
    e.$$.on_destroy.push(
      (function (e, ...t) {
        if (null == e) return H;
        const n = e.subscribe(...t);
        return n.unsubscribe ? () => n.unsubscribe() : n;
      })(t, n)
    );
  }
  function J(e) {
    return null == e ? "" : e;
  }
  function Y(e) {
    return e && q(e.destroy) ? e.destroy : H;
  }
  function Z(e, t) {
    e.appendChild(t);
  }
  function Q(e, t, n) {
    e.insertBefore(t, n || null);
  }
  function ee(e) {
    e.parentNode.removeChild(e);
  }
  function te(e) {
    return document.createElement(e);
  }
  function ne(e) {
    return document.createTextNode(e);
  }
  function re() {
    return ne(" ");
  }
  function oe() {
    return ne("");
  }
  function ie(e, t, n, r) {
    return e.addEventListener(t, n, r), () => e.removeEventListener(t, n, r);
  }
  function ae(e, t, n) {
    null == n
      ? e.removeAttribute(t)
      : e.getAttribute(t) !== n && e.setAttribute(t, n);
  }
  function se(e, t) {
    (t = "" + t), e.wholeText !== t && (e.data = t);
  }
  function le(e, t, n, r) {
    e.style.setProperty(t, n, r ? "important" : "");
  }
  let ce;
  function ue(e) {
    ce = e;
  }
  function de() {
    if (!ce)
      throw new Error("Function called outside component initialization");
    return ce;
  }
  function pe() {
    const e = de();
    return (t, n) => {
      const r = e.$$.callbacks[t];
      if (r) {
        const o = (function (e, t) {
          const n = document.createEvent("CustomEvent");
          return n.initCustomEvent(e, !1, !1, t), n;
        })(t, n);
        r.slice().forEach((t) => {
          t.call(e, o);
        });
      }
    };
  }
  const fe = [],
    me = [],
    he = [],
    ge = [],
    be = Promise.resolve();
  let ye = !1;
  function ve(e) {
    he.push(e);
  }
  let we = !1;
  const xe = new Set();
  function Se() {
    if (!we) {
      we = !0;
      do {
        for (let e = 0; e < fe.length; e += 1) {
          const t = fe[e];
          ue(t), Te(t.$$);
        }
        for (ue(null), fe.length = 0; me.length; ) me.pop()();
        for (let e = 0; e < he.length; e += 1) {
          const t = he[e];
          xe.has(t) || (xe.add(t), t());
        }
        he.length = 0;
      } while (fe.length);
      for (; ge.length; ) ge.pop()();
      (ye = !1), (we = !1), xe.clear();
    }
  }
  function Te(e) {
    if (null !== e.fragment) {
      e.update(), V(e.before_update);
      const t = e.dirty;
      (e.dirty = [-1]),
        e.fragment && e.fragment.p(e.ctx, t),
        e.after_update.forEach(ve);
    }
  }
  const _e = new Set();
  let $e;
  function ke() {
    $e = { r: 0, c: [], p: $e };
  }
  function Ee() {
    $e.r || V($e.c), ($e = $e.p);
  }
  function Oe(e, t) {
    e && e.i && (_e.delete(e), e.i(t));
  }
  function Ce(e, t, n, r) {
    if (e && e.o) {
      if (_e.has(e)) return;
      _e.add(e),
        $e.c.push(() => {
          _e.delete(e), r && (n && e.d(1), r());
        }),
        e.o(t);
    }
  }
  function Ie(e, t) {
    const n = (t.token = {});
    function r(e, r, o, i) {
      if (t.token !== n) return;
      t.resolved = i;
      let a = t.ctx;
      void 0 !== o && ((a = a.slice()), (a[o] = i));
      const s = e && (t.current = e)(a);
      let l = !1;
      t.block &&
        (t.blocks
          ? t.blocks.forEach((e, n) => {
              n !== r &&
                e &&
                (ke(),
                Ce(e, 1, 1, () => {
                  t.blocks[n] === e && (t.blocks[n] = null);
                }),
                Ee());
            })
          : t.block.d(1),
        s.c(),
        Oe(s, 1),
        s.m(t.mount(), t.anchor),
        (l = !0)),
        (t.block = s),
        t.blocks && (t.blocks[r] = s),
        l && Se();
    }
    if ((o = e) && "object" == typeof o && "function" == typeof o.then) {
      const n = de();
      if (
        (e.then(
          (e) => {
            ue(n), r(t.then, 1, t.value, e), ue(null);
          },
          (e) => {
            if ((ue(n), r(t.catch, 2, t.error, e), ue(null), !t.hasCatch))
              throw e;
          }
        ),
        t.current !== t.pending)
      )
        return r(t.pending, 0), !0;
    } else {
      if (t.current !== t.then) return r(t.then, 1, t.value, e), !0;
      t.resolved = e;
    }
    var o;
  }
  function Pe(e) {
    e && e.c();
  }
  function Be(e, t, n, r) {
    const { fragment: o, on_mount: i, on_destroy: a, after_update: s } = e.$$;
    o && o.m(t, n),
      r ||
        ve(() => {
          const t = i.map(G).filter(q);
          a ? a.push(...t) : V(t), (e.$$.on_mount = []);
        }),
      s.forEach(ve);
  }
  function Ue(e, t) {
    const n = e.$$;
    null !== n.fragment &&
      (V(n.on_destroy),
      n.fragment && n.fragment.d(t),
      (n.on_destroy = n.fragment = null),
      (n.ctx = []));
  }
  function Re(e, t) {
    -1 === e.$$.dirty[0] &&
      (fe.push(e), ye || ((ye = !0), be.then(Se)), e.$$.dirty.fill(0)),
      (e.$$.dirty[(t / 31) | 0] |= 1 << t % 31);
  }
  function Le(e, t, n, r, o, i, a = [-1]) {
    const s = ce;
    ue(e);
    const l = (e.$$ = {
      fragment: null,
      ctx: null,
      props: i,
      update: H,
      not_equal: o,
      bound: z(),
      on_mount: [],
      on_destroy: [],
      on_disconnect: [],
      before_update: [],
      after_update: [],
      context: new Map(s ? s.$$.context : t.context || []),
      callbacks: z(),
      dirty: a,
      skip_bound: !1,
    });
    let c = !1;
    if (
      ((l.ctx = n
        ? n(e, t.props || {}, (t, n, ...r) => {
            const i = r.length ? r[0] : n;
            return (
              l.ctx &&
                o(l.ctx[t], (l.ctx[t] = i)) &&
                (!l.skip_bound && l.bound[t] && l.bound[t](i), c && Re(e, t)),
              n
            );
          })
        : []),
      l.update(),
      (c = !0),
      V(l.before_update),
      (l.fragment = !!r && r(l.ctx)),
      t.target)
    ) {
      if (t.hydrate) {
        const e = (function (e) {
          return Array.from(e.childNodes);
        })(t.target);
        l.fragment && l.fragment.l(e), e.forEach(ee);
      } else l.fragment && l.fragment.c();
      t.intro && Oe(e.$$.fragment),
        Be(e, t.target, t.anchor, t.customElement),
        Se();
    }
    ue(s);
  }
  class Ae {
    $destroy() {
      Ue(this, 1), (this.$destroy = H);
    }
    $on(e, t) {
      const n = this.$$.callbacks[e] || (this.$$.callbacks[e] = []);
      return (
        n.push(t),
        () => {
          const e = n.indexOf(t);
          -1 !== e && n.splice(e, 1);
        }
      );
    }
    $set(e) {
      var t;
      this.$$set &&
        ((t = e), 0 !== Object.keys(t).length) &&
        ((this.$$.skip_bound = !0), this.$$set(e), (this.$$.skip_bound = !1));
    }
  }
  const Me = [];
  var je = (function (e, t = H) {
    let n;
    const r = [];
    function o(t) {
      if (X(e, t) && ((e = t), n)) {
        const t = !Me.length;
        for (let t = 0; t < r.length; t += 1) {
          const n = r[t];
          n[1](), Me.push(n, e);
        }
        if (t) {
          for (let e = 0; e < Me.length; e += 2) Me[e][0](Me[e + 1]);
          Me.length = 0;
        }
      }
    }
    return {
      set: o,
      update: function (t) {
        o(t(e));
      },
      subscribe: function (i, a = H) {
        const s = [i, a];
        return (
          r.push(s),
          1 === r.length && (n = t(o) || H),
          i(e),
          () => {
            const e = r.indexOf(s);
            -1 !== e && r.splice(e, 1), 0 === r.length && (n(), (n = null));
          }
        );
      },
    };
  })(!0);
  function De(e) {
    let t, n, r, o, i, a, s, l, c;
    return {
      c() {
        (t = te("div")),
          (n = te("div")),
          (r = te("input")),
          (o = re()),
          (i = te("label")),
          (a = re()),
          (s = te("label")),
          (s.textContent = "Dark"),
          ae(r, "type", "checkbox"),
          ae(r, "name", "toggle"),
          ae(r, "id", "toggle"),
          ae(
            r,
            "class",
            "toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"
          ),
          ae(i, "for", "toggle"),
          ae(
            i,
            "class",
            "toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"
          ),
          ae(
            n,
            "class",
            "relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in"
          ),
          ae(s, "for", "toggle"),
          ae(s, "class", "text-xs dark:text-white text-gray-700"),
          le(t, "display", "none");
      },
      m(u, d) {
        Q(u, t, d),
          Z(t, n),
          Z(n, r),
          Z(n, o),
          Z(n, i),
          Z(t, a),
          Z(t, s),
          l || ((c = ie(r, "click", e[0])), (l = !0));
      },
      p: H,
      i: H,
      o: H,
      d(e) {
        e && ee(t), (l = !1), c();
      },
    };
  }
  function Fe(e) {
    function t(e) {
      je.update(() => e);
    }
    var n;
    return (
      (n = () => {
        t(
          !(
            !window.matchMedia ||
            !window.matchMedia("(prefers-color-scheme: dark)").matches
          )
        ),
          window
            .matchMedia("(prefers-color-scheme: dark)")
            .addListener(({ matches: e }) => {
              t(!!e);
            });
      }),
      de().$$.on_mount.push(n),
      [t]
    );
  }
  class Ne extends Ae {
    constructor(e) {
      super(), Le(this, e, Fe, De, X, {});
    }
  }
  function We(e) {
    let t, n;
    return {
      c() {
        (t = te("img")),
          ae(t, "class", "img-5"),
          t.src !== (n = e[0]) && ae(t, "src", n),
          ae(t, "alt", "Logo");
      },
      m(e, n) {
        Q(e, t, n);
      },
      p(e, r) {
        1 & r && t.src !== (n = e[0]) && ae(t, "src", n);
      },
      d(e) {
        e && ee(t);
      },
    };
  }
  function He(e) {
    let t, n;
    return {
      c() {
        (t = te("img")),
          ae(t, "class", "img-5"),
          t.src !==
            (n = "https://resources.idwise.com/websdk-res/logo-light.svg") &&
            ae(
              t,
              "src",
              "https://resources.idwise.com/websdk-res/logo-light.svg"
            ),
          ae(t, "alt", "Logo");
      },
      m(e, n) {
        Q(e, t, n);
      },
      d(e) {
        e && ee(t);
      },
    };
  }
  function Ge(e) {
    let t, n;
    return {
      c() {
        (t = te("img")),
          ae(t, "class", "img-5"),
          t.src !==
            (n = "https://resources.idwise.com/websdk-res/logo-dark.svg") &&
            ae(
              t,
              "src",
              "https://resources.idwise.com/websdk-res/logo-dark.svg"
            ),
          ae(t, "alt", "Logo");
      },
      m(e, n) {
        Q(e, t, n);
      },
      d(e) {
        e && ee(t);
      },
    };
  }
  function ze(e) {
    let t,
      n,
      r,
      o,
      i,
      a = e[0] && We(e);
    function s(e, t) {
      return e[1] ? Ge : He;
    }
    let l = s(e),
      c = l(e);
    return {
      c() {
        (t = te("div")),
          a && a.c(),
          (n = re()),
          (r = te("div")),
          (o = te("p")),
          (o.textContent = "POWERED BY"),
          (i = re()),
          c.c(),
          ae(o, "class", "mr-1"),
          ae(r, "class", "img-5 logo-text"),
          le(r, "direction", "ltr"),
          ae(t, "class", "footer");
      },
      m(e, s) {
        Q(e, t, s),
          a && a.m(t, null),
          Z(t, n),
          Z(t, r),
          Z(r, o),
          Z(r, i),
          c.m(r, null);
      },
      p(e, [o]) {
        e[0]
          ? a
            ? a.p(e, o)
            : ((a = We(e)), a.c(), a.m(t, n))
          : a && (a.d(1), (a = null)),
          l !== (l = s(e)) && (c.d(1), (c = l(e)), c && (c.c(), c.m(r, null)));
      },
      i: H,
      o: H,
      d(e) {
        e && ee(t), a && a.d(), c.d();
      },
    };
  }
  function Ve(e, t, n) {
    let r;
    K(e, je, (e) => n(1, (r = e)));
    let { logoUrl: o } = t;
    return (
      (e.$$set = (e) => {
        "logoUrl" in e && n(0, (o = e.logoUrl));
      }),
      [o, r]
    );
  }
  class qe extends Ae {
    constructor(e) {
      super(), Le(this, e, Ve, ze, X, { logoUrl: 0 });
    }
  }
  function Xe(e) {
    let t, n, r, o, i, a;
    return (
      (t = new qe({ props: { logoUrl: e[4] } })),
      {
        c() {
          Pe(t.$$.fragment),
            (n = re()),
            (r = te("p")),
            (o = te("a")),
            (i = ne(e[3])),
            ae(o, "href", "https://idwise.com/privacy"),
            ae(o, "class", "text-gray-600"),
            ae(r, "class", "text"),
            le(r, "margin", "0");
        },
        m(e, s) {
          Be(t, e, s), Q(e, n, s), Q(e, r, s), Z(r, o), Z(o, i), (a = !0);
        },
        p(e, n) {
          const r = {};
          16 & n && (r.logoUrl = e[4]), t.$set(r), (!a || 8 & n) && se(i, e[3]);
        },
        i(e) {
          a || (Oe(t.$$.fragment, e), (a = !0));
        },
        o(e) {
          Ce(t.$$.fragment, e), (a = !1);
        },
        d(e) {
          Ue(t, e), e && ee(n), e && ee(r);
        },
      }
    );
  }
  function Ke(e) {
    let t,
      n,
      r,
      o,
      i,
      a,
      s,
      l,
      c,
      u,
      d,
      p,
      f,
      m,
      h,
      g,
      b,
      y,
      v,
      w,
      x,
      S,
      T,
      _,
      $,
      k;
    i = new Ne({});
    let E = e[5] && Xe(e);
    return {
      c() {
        (t = te("div")),
          (n = te("div")),
          (r = te("div")),
          (o = te("div")),
          Pe(i.$$.fragment),
          (a = re()),
          (s = te("div")),
          (l = te("div")),
          (c = te("div")),
          (u = te("img")),
          (p = re()),
          (f = te("div")),
          (m = te("h2")),
          (h = ne(e[0])),
          (g = re()),
          (b = te("p")),
          (y = ne(e[1])),
          (v = re()),
          (w = te("div")),
          (x = te("button")),
          (S = ne(e[2])),
          (T = re()),
          E && E.c(),
          ae(u, "class", "img"),
          u.src !== (d = e[7]()) && ae(u, "src", d),
          ae(u, "alt", "Logo"),
          ae(c, "class", "px-4"),
          ae(l, "class", "section-1"),
          ae(m, "class", "text-bold-color text-bold welcome-head"),
          ae(b, "class", "text-color text welcome-p"),
          ae(x, "class", "button primary-button"),
          ae(w, "class", "mt-5"),
          ae(f, "class", "section-2"),
          ae(s, "class", "grid-section"),
          le(o, "height", "100%"),
          ae(r, "class", "p-max-2"),
          ae(n, "class", "main-section"),
          ae(t, "class", "background main");
      },
      m(d, O) {
        Q(d, t, O),
          Z(t, n),
          Z(n, r),
          Z(r, o),
          Be(i, o, null),
          Z(o, a),
          Z(o, s),
          Z(s, l),
          Z(l, c),
          Z(c, u),
          Z(s, p),
          Z(s, f),
          Z(f, m),
          Z(m, h),
          Z(f, g),
          Z(f, b),
          Z(b, y),
          Z(f, v),
          Z(f, w),
          Z(w, x),
          Z(x, S),
          Z(f, T),
          E && E.m(f, null),
          (_ = !0),
          $ || ((k = ie(x, "click", e[6])), ($ = !0));
      },
      p(e, [t]) {
        (!_ || 1 & t) && se(h, e[0]),
          (!_ || 2 & t) && se(y, e[1]),
          (!_ || 4 & t) && se(S, e[2]),
          e[5]
            ? E
              ? (E.p(e, t), 32 & t && Oe(E, 1))
              : ((E = Xe(e)), E.c(), Oe(E, 1), E.m(f, null))
            : E &&
              (ke(),
              Ce(E, 1, 1, () => {
                E = null;
              }),
              Ee());
      },
      i(e) {
        _ || (Oe(i.$$.fragment, e), Oe(E), (_ = !0));
      },
      o(e) {
        Ce(i.$$.fragment, e), Ce(E), (_ = !1);
      },
      d(e) {
        e && ee(t), Ue(i), E && E.d(), ($ = !1), k();
      },
    };
  }
  function Je(e, t, n) {
    let { welcomeHeader: r } = t,
      { welcomeDetails: o } = t,
      { startButtonText: i } = t,
      { PrivacyPolicyText: a } = t,
      { logoUrl: s } = t,
      { isLogoVisible: l } = t,
      { IntroImageUrl: c } = t;
    const u = pe();
    return (
      (e.$$set = (e) => {
        "welcomeHeader" in e && n(0, (r = e.welcomeHeader)),
          "welcomeDetails" in e && n(1, (o = e.welcomeDetails)),
          "startButtonText" in e && n(2, (i = e.startButtonText)),
          "PrivacyPolicyText" in e && n(3, (a = e.PrivacyPolicyText)),
          "logoUrl" in e && n(4, (s = e.logoUrl)),
          "isLogoVisible" in e && n(5, (l = e.isLogoVisible)),
          "IntroImageUrl" in e && n(8, (c = e.IntroImageUrl));
      }),
      [
        r,
        o,
        i,
        a,
        s,
        l,
        function (e) {
          u("JourneyStart", e.detail);
        },
        function () {
          return c || "https://resources.idwise.com/websdk-res/welcome.svg";
        },
        c,
      ]
    );
  }
  class Ye extends Ae {
    constructor(e) {
      super(),
        Le(this, e, Je, Ke, X, {
          welcomeHeader: 0,
          welcomeDetails: 1,
          startButtonText: 2,
          PrivacyPolicyText: 3,
          logoUrl: 4,
          isLogoVisible: 5,
          IntroImageUrl: 8,
        });
    }
  }
  function Ze(e, t) {
    for (var n = 0; n < t.length; n++) {
      var r = t[n];
      (r.enumerable = r.enumerable || !1),
        (r.configurable = !0),
        "value" in r && (r.writable = !0),
        Object.defineProperty(e, r.key, r);
    }
  }
  var Qe =
      "undefined" != typeof Blob &&
      (function () {
        try {
          return Boolean(new Blob());
        } catch (e) {
          return !1;
        }
      })(),
    et =
      Qe &&
      "undefined" != typeof Uint8Array &&
      (function () {
        try {
          return 100 === new Blob([new Uint8Array(100)]).size;
        } catch (e) {
          return !1;
        }
      })(),
    tt =
      "undefined" != typeof HTMLCanvasElement &&
      HTMLCanvasElement.prototype.toBlob,
    nt =
      tt ||
      ("undefined" != typeof Uint8Array &&
        "undefined" != typeof ArrayBuffer &&
        "undefined" != typeof atob),
    rt = "undefined" != typeof FileReader || "undefined" != typeof URL,
    ot = (function () {
      function e() {
        !(function (e, t) {
          if (!(e instanceof t))
            throw new TypeError("Cannot call a class as a function");
        })(this, e);
      }
      var t, n, r;
      return (
        (t = e),
        (r = [
          {
            key: "resize",
            value: function (t, n, r) {
              if (
                ("function" == typeof n &&
                  ((r = n), (n = { width: 640, height: 480 })),
                n.width,
                n.height,
                !e.isSupported() || !t.type.match(/image.*/))
              )
                return r(t, !1), !1;
              if (t.type.match(/image\/gif/)) return r(t, !1), !1;
              var o = document.createElement("img");
              return (
                (o.onload = function (i) {
                  var a = o.width,
                    s = o.height,
                    l = !1;
                  if (
                    (a >= s && a > n.width
                      ? ((s *= n.width / a), (a = n.width), (l = !0))
                      : s > n.height &&
                        ((a *= n.height / s), (s = n.height), (l = !0)),
                    l)
                  ) {
                    var c = document.createElement("canvas");
                    if (
                      ((c.width = a),
                      (c.height = s),
                      c.getContext("2d").drawImage(o, 0, 0, a, s),
                      tt)
                    )
                      c.toBlob(
                        function (e) {
                          r(e, !0);
                        },
                        t.type,
                        0.7
                      );
                    else {
                      var u = e._toBlob(c, t.type);
                      r(u, !0);
                    }
                  } else r(t, !1);
                }),
                e._loadImage(o, t),
                !0
              );
            },
          },
          {
            key: "_toBlob",
            value: function (e, t) {
              var n,
                r = e.toDataURL(t, 0.7).split(",");
              n =
                r[0].indexOf("base64") >= 0
                  ? atob(r[1])
                  : decodeURIComponent(r[1]);
              for (
                var o = new ArrayBuffer(n.length), i = new Uint8Array(o), a = 0;
                a < n.length;
                a += 1
              )
                i[a] = n.charCodeAt(a);
              var s = r[0].split(":")[1].split(";")[0],
                l = null;
              if (Qe) l = new Blob([et ? i : o], { type: s });
              else {
                var c = new BlobBuilder();
                c.append(o), (l = c.getBlob(s));
              }
              return l;
            },
          },
          {
            key: "_loadImage",
            value: function (e, t, n) {
              if ("undefined" == typeof URL) {
                var r = new FileReader();
                (r.onload = function (t) {
                  (e.src = t.target.result), n && n();
                }),
                  r.readAsDataURL(t);
              } else (e.src = URL.createObjectURL(t)), n && n();
            },
          },
          {
            key: "isSupported",
            value: function () {
              return "undefined" != typeof HTMLCanvasElement && nt && rt;
            },
          },
        ]),
        (n = null) && Ze(t.prototype, n),
        r && Ze(t, r),
        e
      );
    })();
  function it(e) {
    let t;
    function n(e, t) {
      return e[8] ? st : at;
    }
    let r = n(e),
      o = r(e);
    return {
      c() {
        o.c(), (t = oe());
      },
      m(e, n) {
        o.m(e, n), Q(e, t, n);
      },
      p(e, i) {
        r === (r = n(e)) && o
          ? o.p(e, i)
          : (o.d(1), (o = r(e)), o && (o.c(), o.m(t.parentNode, t)));
      },
      d(e) {
        o.d(e), e && ee(t);
      },
    };
  }
  function at(e) {
    let t, n, r, o, i, a;
    return {
      c() {
        (t = te("button")),
          (n = ne(e[4])),
          (r = re()),
          (o = te("input")),
          ae(t, "class", "button secondry-button"),
          le(o, "display", "none"),
          ae(o, "type", "file"),
          ae(o, "accept", ".jpg");
      },
      m(s, l) {
        Q(s, t, l),
          Z(t, n),
          Q(s, r, l),
          Q(s, o, l),
          e[16](o),
          i ||
            ((a = [ie(t, "click", e[14]), ie(o, "change", e[15])]), (i = !0));
      },
      p(e, t) {
        16 & t && se(n, e[4]);
      },
      d(n) {
        n && ee(t), n && ee(r), n && ee(o), e[16](null), (i = !1), V(a);
      },
    };
  }
  function st(e) {
    let t,
      n,
      r = {
        ctx: e,
        current: null,
        token: null,
        hasCatch: !1,
        pending: ut,
        then: ct,
        catch: lt,
      };
    return (
      Ie((n = e[12](e[8])), r),
      {
        c() {
          (t = oe()), r.block.c();
        },
        m(e, n) {
          Q(e, t, n),
            r.block.m(e, (r.anchor = n)),
            (r.mount = () => t.parentNode),
            (r.anchor = t);
        },
        p(t, o) {
          (e = t),
            (r.ctx = e),
            (256 & o && n !== (n = e[12](e[8])) && Ie(n, r)) ||
              (function (e, t, n) {
                const r = t.slice(),
                  { resolved: o } = e;
                e.current === e.then && (r[e.value] = o),
                  e.current === e.catch && (r[e.error] = o),
                  e.block.p(r, n);
              })(r, e, o);
        },
        d(e) {
          e && ee(t), r.block.d(e), (r.token = null), (r = null);
        },
      }
    );
  }
  function lt(e) {
    return { c: H, m: H, p: H, d: H };
  }
  function ct(e) {
    return { c: H, m: H, p: H, d: H };
  }
  function ut(e) {
    let t;
    return {
      c() {
        t = ne(e[5]);
      },
      m(e, n) {
        Q(e, t, n);
      },
      p(e, n) {
        32 & n && se(t, e[5]);
      },
      d(e) {
        e && ee(t);
      },
    };
  }
  function dt(e) {
    let t, n;
    return (
      (t = new qe({})),
      {
        c() {
          Pe(t.$$.fragment);
        },
        m(e, r) {
          Be(t, e, r), (n = !0);
        },
        i(e) {
          n || (Oe(t.$$.fragment, e), (n = !0));
        },
        o(e) {
          Ce(t.$$.fragment, e), (n = !1);
        },
        d(e) {
          Ue(t, e);
        },
      }
    );
  }
  function pt(e) {
    let t,
      n,
      r,
      o,
      i,
      a,
      s,
      l,
      c,
      u,
      d,
      p,
      f,
      m,
      h,
      g,
      b,
      y,
      v,
      w,
      x,
      S,
      T,
      _,
      $ = e[6] && it(e),
      k = e[7] && dt();
    return {
      c() {
        (t = te("div")),
          (n = te("div")),
          (r = te("div")),
          (o = te("div")),
          (i = te("div")),
          (a = te("div")),
          (s = te("img")),
          (c = re()),
          (u = te("div")),
          (d = te("h2")),
          (p = ne(e[2])),
          (f = re()),
          (m = te("p")),
          (h = ne(e[1])),
          (g = re()),
          (b = te("div")),
          (y = te("button")),
          (v = ne(e[3])),
          (w = re()),
          $ && $.c(),
          (x = re()),
          k && k.c(),
          ae(s, "class", "img"),
          s.src !== (l = e[0]) && ae(s, "src", l),
          ae(s, "alt", "Step Illustration"),
          ae(a, "class", "px-4"),
          ae(i, "class", "section-1"),
          ae(d, "class", "text-bold-color text-bold"),
          ae(m, "class", "text-color text"),
          ae(y, "class", "button primary-button"),
          ae(b, "class", "mt-5"),
          ae(u, "class", "section-2"),
          ae(o, "class", "grid-section"),
          ae(r, "class", "p-max-2"),
          ae(n, "class", "main-section"),
          ae(t, "class", "background main");
      },
      m(l, E) {
        Q(l, t, E),
          Z(t, n),
          Z(n, r),
          Z(r, o),
          Z(o, i),
          Z(i, a),
          Z(a, s),
          Z(o, c),
          Z(o, u),
          Z(u, d),
          Z(d, p),
          Z(u, f),
          Z(u, m),
          Z(m, h),
          Z(u, g),
          Z(u, b),
          Z(b, y),
          Z(y, v),
          Z(b, w),
          $ && $.m(b, null),
          Z(u, x),
          k && k.m(u, null),
          (S = !0),
          T || ((_ = ie(y, "click", e[10])), (T = !0));
      },
      p(e, [t]) {
        (!S || (1 & t && s.src !== (l = e[0]))) && ae(s, "src", l),
          (!S || 4 & t) && se(p, e[2]),
          (!S || 2 & t) && se(h, e[1]),
          (!S || 8 & t) && se(v, e[3]),
          e[6]
            ? $
              ? $.p(e, t)
              : (($ = it(e)), $.c(), $.m(b, null))
            : $ && ($.d(1), ($ = null)),
          e[7]
            ? k
              ? 128 & t && Oe(k, 1)
              : ((k = dt()), k.c(), Oe(k, 1), k.m(u, null))
            : k &&
              (ke(),
              Ce(k, 1, 1, () => {
                k = null;
              }),
              Ee());
      },
      i(e) {
        S || (Oe(k), (S = !0));
      },
      o(e) {
        Ce(k), (S = !1);
      },
      d(e) {
        e && ee(t), $ && $.d(), k && k.d(), (T = !1), _();
      },
    };
  }
  function ft(e, t, n) {
    let r,
      o,
      i,
      { imageUrl: a } = t,
      { userPrompt: s } = t,
      { userPromptTitle: l } = t,
      { readyButtonText: c } = t,
      { uploadFromGalleryText: u } = t,
      { LoadingText: d } = t,
      { ImageUploadSizeTooLargeText: p } = t,
      { allowFileUpload: f } = t,
      { isLogoVisible: m } = t;
    const h = pe();
    const g = (e) => {
      let t = e.target.files[0],
        o = new FileReader();
      (o.onload = function () {
        const e = o.result;
        (i = new Blob([e], { type: t.type })),
          URL.createObjectURL(i),
          n(8, (r = t));
      }),
        o.readAsArrayBuffer(t);
    };
    return (
      (e.$$set = (e) => {
        "imageUrl" in e && n(0, (a = e.imageUrl)),
          "userPrompt" in e && n(1, (s = e.userPrompt)),
          "userPromptTitle" in e && n(2, (l = e.userPromptTitle)),
          "readyButtonText" in e && n(3, (c = e.readyButtonText)),
          "uploadFromGalleryText" in e && n(4, (u = e.uploadFromGalleryText)),
          "LoadingText" in e && n(5, (d = e.LoadingText)),
          "ImageUploadSizeTooLargeText" in e &&
            n(13, (p = e.ImageUploadSizeTooLargeText)),
          "allowFileUpload" in e && n(6, (f = e.allowFileUpload)),
          "isLogoVisible" in e && n(7, (m = e.isLogoVisible));
      }),
      [
        a,
        s,
        l,
        c,
        u,
        d,
        f,
        m,
        r,
        o,
        function (e) {
          h("OkClick", e.detail);
        },
        g,
        async (e) =>
          new Promise(function (e) {
            ot.resize(i, { width: 2560, height: 1440 }, function (t, o) {
              if (!o && t.size > 1048576)
                return (
                  console.log("ImageUploadSizeTooLargeText", p),
                  window.alert(p),
                  n(8, (r = null)),
                  void e()
                );
              h("ImageCaptured", {
                imageBlob: t,
                imageUrl: window.URL.createObjectURL(t),
                source: "file-upload",
              }),
                e();
            });
          }),
        p,
        () => {
          o.click();
        },
        (e) => g(e),
        function (e) {
          me[e ? "unshift" : "push"](() => {
            (o = e), n(9, o);
          });
        },
      ]
    );
  }
  class mt extends Ae {
    constructor(e) {
      super(),
        Le(this, e, ft, pt, X, {
          imageUrl: 0,
          userPrompt: 1,
          userPromptTitle: 2,
          readyButtonText: 3,
          uploadFromGalleryText: 4,
          LoadingText: 5,
          ImageUploadSizeTooLargeText: 13,
          allowFileUpload: 6,
          isLogoVisible: 7,
        });
    }
  }
  function ht(e) {
    let t,
      n,
      r,
      o,
      i,
      a,
      s,
      l,
      c,
      u,
      d,
      p,
      f,
      m,
      h,
      g,
      b,
      y,
      v,
      w,
      x,
      S,
      T,
      _,
      $,
      k,
      E,
      O,
      C,
      I,
      P,
      B,
      U,
      R,
      L,
      A,
      M,
      j,
      D,
      F,
      N,
      W,
      G,
      z,
      X,
      K,
      oe,
      ce;
    return {
      c() {
        (t = te("div")),
          (n = te("div")),
          (r = te("div")),
          (o = te("div")),
          (i = te("div")),
          (i.innerHTML =
            '<img alt="" class="img" src="https://resources.idwise.com/websdk-res/only-portrait.png"/>'),
          (a = re()),
          (s = te("div")),
          (l = te("span")),
          (c = ne(e[2])),
          (u = re()),
          (d = te("div")),
          (p = te("div")),
          (f = te("div")),
          (m = te("div")),
          (h = te("div")),
          (g = te("div")),
          (b = te("div")),
          (y = ne(e[3])),
          (w = re()),
          (x = te("div")),
          (S = te("video")),
          ($ = re()),
          (k = te("div")),
          (E = te("div")),
          (O = re()),
          (C = te("div")),
          (C.innerHTML =
            '<div id="view-finder-top-left-corner" class="view-finder-corner svelte-lywwdh"></div> \n              <div id="view-finder-top-right-corner" class="view-finder-corner svelte-lywwdh"></div> \n              <div id="view-finder-bottom-left-corner" class="view-finder-corner svelte-lywwdh"></div> \n              <div id="view-finder-bottom-right-corner" class="view-finder-corner svelte-lywwdh"></div>'),
          (P = re()),
          (B = te("div")),
          (R = re()),
          (L = te("div")),
          (A = te("canvas")),
          (M = re()),
          (j = te("div")),
          (D = ne(e[1])),
          (N = re()),
          (W = te("div")),
          (G = te("div")),
          (z = te("div")),
          (X = te("button")),
          ae(i, "class", "img-section"),
          ae(l, "class", "text-bold-color text-bold"),
          ae(s, "class", "text-section"),
          ae(o, "class", "p-max-2"),
          ae(r, "class", "main-section"),
          ae(n, "id", "landscape-warning"),
          ae(n, "class", "background main svelte-lywwdh"),
          (t.hidden = e[0]),
          ae(b, "class", "wait-text"),
          ae(g, "class", "wait-section"),
          ae(h, "class", "is-waiting"),
          (h.hidden = v = !e[4]),
          ae(S, "id", "player"),
          ae(S, "style", (T = e[0] ? "" : "transform: scaleX(-1)")),
          (S.autoplay = !0),
          (S.playsInline = !0),
          ae(S, "class", "svelte-lywwdh"),
          ae(E, "id", "corner-container-shade"),
          ae(E, "class", "svelte-lywwdh"),
          ae(C, "id", "corner-container-helper"),
          ae(C, "class", "svelte-lywwdh"),
          ae(k, "id", "corner-container"),
          (k.hidden = I = !e[0] || e[4]),
          ae(k, "class", "svelte-lywwdh"),
          ae(B, "id", "selfie-oval-guide"),
          (B.hidden = U = e[0] || e[4]),
          ae(B, "class", "svelte-lywwdh"),
          ae(x, "id", "view-finder-helper"),
          ae(x, "class", "svelte-lywwdh"),
          ae(m, "id", "view-finder"),
          ae(m, "class", "svelte-lywwdh"),
          ae(A, "id", "capturedImage"),
          le(L, "display", "none"),
          ae(j, "id", "user-instructions"),
          (j.hidden = F = !e[0] || e[4]),
          ae(j, "class", "svelte-lywwdh"),
          ae(f, "class", "camera-card svelte-lywwdh"),
          ae(X, "id", "shutter-button"),
          ae(X, "aria-label", "Capture Image"),
          ae(X, "class", "svelte-lywwdh"),
          ae(z, "id", "shutter-button-inner-border"),
          ae(z, "class", "svelte-lywwdh"),
          ae(G, "id", "shutter-button-outer-border"),
          ae(G, "class", "svelte-lywwdh"),
          ae(W, "class", "button-card svelte-lywwdh"),
          ae(p, "class", "camera-root-section svelte-lywwdh"),
          ae(d, "id", "camera-root"),
          ae(d, "class", (K = J(e[0] ? "" : "root") + " svelte-lywwdh"));
      },
      m(v, T) {
        Q(v, t, T),
          Z(t, n),
          Z(n, r),
          Z(r, o),
          Z(o, i),
          Z(o, a),
          Z(o, s),
          Z(s, l),
          Z(l, c),
          Q(v, u, T),
          Q(v, d, T),
          Z(d, p),
          Z(p, f),
          Z(f, m),
          Z(m, h),
          Z(h, g),
          Z(g, b),
          Z(b, y),
          Z(m, w),
          Z(m, x),
          Z(x, S),
          e[11](S),
          Z(x, $),
          Z(x, k),
          Z(k, E),
          Z(k, O),
          Z(k, C),
          Z(x, P),
          Z(x, B),
          Z(f, R),
          Z(f, L),
          Z(L, A),
          e[12](A),
          Z(f, M),
          Z(f, j),
          Z(j, D),
          Z(p, N),
          Z(p, W),
          Z(W, G),
          Z(G, z),
          Z(z, X),
          e[13](d),
          oe ||
            ((ce = [Y((_ = gt.call(null, S, e[5]))), ie(X, "click", e[9])]),
            (oe = !0));
      },
      p(e, [n]) {
        4 & n && se(c, e[2]),
          1 & n && (t.hidden = e[0]),
          8 & n && se(y, e[3]),
          16 & n && v !== (v = !e[4]) && (h.hidden = v),
          1 & n &&
            T !== (T = e[0] ? "" : "transform: scaleX(-1)") &&
            ae(S, "style", T),
          _ && q(_.update) && 32 & n && _.update.call(null, e[5]),
          17 & n && I !== (I = !e[0] || e[4]) && (k.hidden = I),
          17 & n && U !== (U = e[0] || e[4]) && (B.hidden = U),
          2 & n && se(D, e[1]),
          17 & n && F !== (F = !e[0] || e[4]) && (j.hidden = F),
          1 & n &&
            K !== (K = J(e[0] ? "" : "root") + " svelte-lywwdh") &&
            ae(d, "class", K);
      },
      i: H,
      o: H,
      d(n) {
        n && ee(t),
          n && ee(u),
          n && ee(d),
          e[11](null),
          e[12](null),
          e[13](null),
          (oe = !1),
          V(ce);
      },
    };
  }
  function gt(e, t) {
    return (
      (e.srcObject = t),
      {
        update(t) {
          e.srcObject != t && (e.srcObject = t);
        },
      }
    );
  }
  function bt(e, t, n) {
    let r,
      o,
      i,
      a,
      s,
      l,
      { isDocument: c = !0 } = t,
      { userInstructions: u = "" } = t,
      { CameraAccessError: d } = t,
      { LandscapeWarning: p } = t,
      { waitText: f } = t,
      m = !0;
    const h = pe();
    var g;
    function b(e) {
      n(5, (r = e));
      let t = e.getVideoTracks();
      t.length > 0 && console.log(JSON.stringify(t[0].getSettings())),
        n(4, (m = !1)),
        console.log("Successfully accessed camera");
    }
    function y(e) {
      alert({ CameraAccessError: d } + e), console.error(e);
    }
    function v(e) {
      navigator.mediaDevices.getUserMedia(e).then(b).catch(y);
    }
    return (
      (g = () => {
        r &&
          r.getTracks().forEach((e) => {
            e.stop();
          });
      }),
      de().$$.on_destroy.push(g),
      (function (e) {
        let t;
        t = e ? "environment" : "user";
        const n = {
          audio: !1,
          video: {
            facingMode: t,
            width: { min: 1200, ideal: 2560, max: 2560 },
            height: { min: 600, ideal: 1440, max: 1440 },
            focusMode: { ideal: "continuous" },
            zoom: 1,
          },
        };
        e
          ? navigator.mediaDevices
              .enumerateDevices()
              .then((e) => {
                for (let t = 0; t < e.length; t++) {
                  const n = e[t];
                  if (
                    "videoinput" == n.kind &&
                    n.label.startsWith("camera2 0")
                  ) {
                    return {
                      audio: !1,
                      video: {
                        deviceId: { exact: n.deviceId },
                        width: { min: 1920, ideal: 2560, max: 2560 },
                        height: { min: 1080, ideal: 1440, max: 1440 },
                      },
                    };
                  }
                }
                return n;
              })
              .then(v)
          : v(n);
      })(c),
      (e.$$set = (e) => {
        "isDocument" in e && n(0, (c = e.isDocument)),
          "userInstructions" in e && n(1, (u = e.userInstructions)),
          "CameraAccessError" in e && n(10, (d = e.CameraAccessError)),
          "LandscapeWarning" in e && n(2, (p = e.LandscapeWarning)),
          "waitText" in e && n(3, (f = e.waitText));
      }),
      [
        c,
        u,
        p,
        f,
        m,
        r,
        o,
        i,
        a,
        function (e) {
          new Promise((e, t) => {
            n(8, (a.width = i.videoWidth), a),
              n(8, (a.height = i.videoHeight), a);
            const r = a.getContext("2d");
            c || (r.translate(i.videoWidth, 0), r.scale(-1, 1)),
              r.drawImage(i, 0, 0, a.width, a.height),
              a.toBlob(
                (t) => {
                  (s = t),
                    (l = URL.createObjectURL(s)),
                    console.log("resolving promise now"),
                    e(l);
                },
                "image/jpeg",
                0.7
              );
          }).then((e) => {
            console.log("promise resolved with value " + e),
              h("ImageCaptured", {
                imageBlob: s,
                imageUrl: e,
                source: "camera",
              });
          });
        },
        d,
        function (e) {
          me[e ? "unshift" : "push"](() => {
            (i = e), n(7, i);
          });
        },
        function (e) {
          me[e ? "unshift" : "push"](() => {
            (a = e), n(8, a);
          });
        },
        function (e) {
          me[e ? "unshift" : "push"](() => {
            (o = e), n(6, o);
          });
        },
      ]
    );
  }
  class yt extends Ae {
    constructor(e) {
      super(),
        Le(this, e, bt, ht, X, {
          isDocument: 0,
          userInstructions: 1,
          CameraAccessError: 10,
          LandscapeWarning: 2,
          waitText: 3,
        });
    }
  }
  function vt(e) {
    let t, n;
    return (
      (t = new qe({})),
      {
        c() {
          Pe(t.$$.fragment);
        },
        m(e, r) {
          Be(t, e, r), (n = !0);
        },
        i(e) {
          n || (Oe(t.$$.fragment, e), (n = !0));
        },
        o(e) {
          Ce(t.$$.fragment, e), (n = !1);
        },
        d(e) {
          Ue(t, e);
        },
      }
    );
  }
  function wt(e) {
    let t,
      n,
      r,
      o,
      i,
      a,
      s,
      l,
      c,
      u,
      d,
      p,
      f,
      m,
      h,
      g,
      b,
      y,
      v,
      w,
      x,
      S,
      T,
      _,
      $,
      k,
      E,
      O,
      C,
      I,
      P,
      B,
      U,
      R,
      L,
      A,
      M,
      j = e[9] && vt();
    return {
      c() {
        (t = te("link")),
          (n = te("link")),
          (r = re()),
          (o = te("div")),
          (i = te("div")),
          (a = te("div")),
          (s = te("div")),
          (l = te("div")),
          (c = te("div")),
          (u = te("img")),
          (p = re()),
          (f = te("div")),
          (m = te("h2")),
          (h = ne(e[5])),
          (g = re()),
          (b = te("p")),
          (y = ne(e[6])),
          (v = re()),
          (w = te("div")),
          (x = te("button")),
          (S = ne(e[2])),
          (T = re()),
          (_ = te("button")),
          ($ = ne(e[3])),
          (k = re()),
          (E = te("div")),
          (O = te("div")),
          (C = te("div")),
          (C.innerHTML =
            '<div class="sk-cube1 sk-cube"></div> \n              <div class="sk-cube2 sk-cube"></div> \n              <div class="sk-cube4 sk-cube"></div> \n              <div class="sk-cube3 sk-cube"></div>'),
          (I = re()),
          (P = te("div")),
          (B = ne(e[4])),
          (R = re()),
          j && j.c(),
          ae(t, "rel", "stylesheet"),
          ae(t, "href", "https://resources.idwise.com/websdk-res/common.css"),
          ae(n, "rel", "stylesheet"),
          ae(n, "href", "https://resources.idwise.com/websdk-res/loader.css"),
          ae(u, "class", "img"),
          u.src !== (d = e[0]) && ae(u, "src", d),
          ae(u, "alt", "Captured document or selfien"),
          ae(c, "class", "px-4"),
          le(c, "opacity", e[7] && !e[1] ? "0.7" : "1"),
          ae(l, "class", "section-1"),
          le(
            l,
            "--imageborder",
            "camera" == e[10] ? (e[8] ? "20%" : "7%") : "0%"
          ),
          ae(m, "class", "text-bold-color text-bold"),
          ae(b, "class", "text-color text"),
          ae(x, "class", "button primary-button"),
          (x.disabled = e[7]),
          ae(_, "class", "button secondry-button"),
          (_.disabled = e[7]),
          ae(w, "class", "mt-5"),
          ae(f, "class", "section-2"),
          ae(C, "class", "sk-folding-cube"),
          ae(P, "class", "text"),
          ae(O, "class", "progress-section"),
          ae(s, "class", "grid-section"),
          ae(a, "class", "p-max-2"),
          ae(i, "class", "main-section"),
          ae(o, "class", "background main");
      },
      m(d, D) {
        Z(document.head, t),
          Z(document.head, n),
          Q(d, r, D),
          Q(d, o, D),
          Z(o, i),
          Z(i, a),
          Z(a, s),
          Z(s, l),
          Z(l, c),
          Z(c, u),
          Z(s, p),
          Z(s, f),
          Z(f, m),
          Z(m, h),
          Z(f, g),
          Z(f, b),
          Z(b, y),
          Z(f, v),
          Z(f, w),
          Z(w, x),
          Z(x, S),
          Z(w, T),
          Z(w, _),
          Z(_, $),
          Z(s, k),
          Z(s, E),
          Z(E, O),
          Z(O, C),
          Z(O, I),
          Z(O, P),
          Z(P, B),
          Z(s, R),
          j && j.m(s, null),
          (L = !0),
          A ||
            ((M = [
              ie(x, "click", e[11]),
              ie(_, "click", e[12]),
              Y((U = xt.call(null, E, e[7] && !e[1]))),
            ]),
            (A = !0));
      },
      p(e, [t]) {
        (!L || (1 & t && u.src !== (d = e[0]))) && ae(u, "src", d),
          (!L || 130 & t) && le(c, "opacity", e[7] && !e[1] ? "0.7" : "1"),
          (!L || 1280 & t) &&
            le(
              l,
              "--imageborder",
              "camera" == e[10] ? (e[8] ? "20%" : "7%") : "0%"
            ),
          (!L || 32 & t) && se(h, e[5]),
          (!L || 64 & t) && se(y, e[6]),
          (!L || 4 & t) && se(S, e[2]),
          (!L || 128 & t) && (x.disabled = e[7]),
          (!L || 8 & t) && se($, e[3]),
          (!L || 128 & t) && (_.disabled = e[7]),
          (!L || 16 & t) && se(B, e[4]),
          U && q(U.update) && 130 & t && U.update.call(null, e[7] && !e[1]),
          e[9]
            ? j
              ? 512 & t && Oe(j, 1)
              : ((j = vt()), j.c(), Oe(j, 1), j.m(s, null))
            : j &&
              (ke(),
              Ce(j, 1, 1, () => {
                j = null;
              }),
              Ee());
      },
      i(e) {
        L || (Oe(j), (L = !0));
      },
      o(e) {
        Ce(j), (L = !1);
      },
      d(e) {
        ee(t), ee(n), e && ee(r), e && ee(o), j && j.d(), (A = !1), V(M);
      },
    };
  }
  function xt(e, t) {
    return (
      (e.style.visibility = t ? "visible" : "hidden"),
      {
        update(t) {
          e.style.visibility = t ? "visible" : "hidden";
        },
      }
    );
  }
  function St(e, t, n) {
    let { capturedImageUrl: r } = t,
      { isRequestCanceled: o } = t,
      { confirmButtonText: i } = t,
      { recaptureButtonText: a } = t,
      { imageUploadTimedOutMessage: s } = t,
      { processingText: l } = t,
      { confirmHead: c } = t,
      { confirmDtetail: u } = t,
      { isProcessing: d = !1 } = t,
      { isDocument: p = !0 } = t,
      { isLogoVisible: f } = t,
      { mediaSource: m = "unspecified" } = t;
    const h = pe();
    return (
      (e.$$set = (e) => {
        "capturedImageUrl" in e && n(0, (r = e.capturedImageUrl)),
          "isRequestCanceled" in e && n(1, (o = e.isRequestCanceled)),
          "confirmButtonText" in e && n(2, (i = e.confirmButtonText)),
          "recaptureButtonText" in e && n(3, (a = e.recaptureButtonText)),
          "imageUploadTimedOutMessage" in e &&
            n(13, (s = e.imageUploadTimedOutMessage)),
          "processingText" in e && n(4, (l = e.processingText)),
          "confirmHead" in e && n(5, (c = e.confirmHead)),
          "confirmDtetail" in e && n(6, (u = e.confirmDtetail)),
          "isProcessing" in e && n(7, (d = e.isProcessing)),
          "isDocument" in e && n(8, (p = e.isDocument)),
          "isLogoVisible" in e && n(9, (f = e.isLogoVisible)),
          "mediaSource" in e && n(10, (m = e.mediaSource));
      }),
      [
        r,
        o,
        i,
        a,
        l,
        c,
        u,
        d,
        p,
        f,
        m,
        function (e) {
          o
            ? (console.log("imageUploadTimedOutMessage", s),
              alert(s),
              h("ReopenCamera", e.detail))
            : h("SubmitImage", e.detail);
        },
        function (e) {
          h("ReopenCamera", e.detail);
        },
        s,
      ]
    );
  }
  class Tt extends Ae {
    constructor(e) {
      super(),
        Le(this, e, St, wt, X, {
          capturedImageUrl: 0,
          isRequestCanceled: 1,
          confirmButtonText: 2,
          recaptureButtonText: 3,
          imageUploadTimedOutMessage: 13,
          processingText: 4,
          confirmHead: 5,
          confirmDtetail: 6,
          isProcessing: 7,
          isDocument: 8,
          isLogoVisible: 9,
          mediaSource: 10,
        });
    }
  }
  function _t(e) {
    let t, n;
    return (
      (t = new Tt({
        props: {
          logoUrl: e[0].app_main_logo_url,
          isRequestCanceled: e[10],
          capturedImageUrl: e[7],
          isDocument: "Document" == e[6],
          isProcessing: e[9],
          mediaSource: e[8],
          processingText: e[0].Processing,
          confirmButtonText: e[0].next,
          recaptureButtonText: e[0].recapture_document,
          imageUploadTimedOutMessage: e[0].image_upload_timeout,
          confirmHead: e[0].document_confirm_header,
          confirmDtetail: e[0].document_confirm_detail,
        },
      })),
      t.$on("SubmitImage", e[15]),
      t.$on("ReopenCamera", e[16]),
      {
        c() {
          Pe(t.$$.fragment);
        },
        m(e, r) {
          Be(t, e, r), (n = !0);
        },
        p(e, n) {
          const r = {};
          1 & n && (r.logoUrl = e[0].app_main_logo_url),
            1024 & n && (r.isRequestCanceled = e[10]),
            128 & n && (r.capturedImageUrl = e[7]),
            64 & n && (r.isDocument = "Document" == e[6]),
            512 & n && (r.isProcessing = e[9]),
            256 & n && (r.mediaSource = e[8]),
            1 & n && (r.processingText = e[0].Processing),
            1 & n && (r.confirmButtonText = e[0].next),
            1 & n && (r.recaptureButtonText = e[0].recapture_document),
            1 & n && (r.imageUploadTimedOutMessage = e[0].image_upload_timeout),
            1 & n && (r.confirmHead = e[0].document_confirm_header),
            1 & n && (r.confirmDtetail = e[0].document_confirm_detail),
            t.$set(r);
        },
        i(e) {
          n || (Oe(t.$$.fragment, e), (n = !0));
        },
        o(e) {
          Ce(t.$$.fragment, e), (n = !1);
        },
        d(e) {
          Ue(t, e);
        },
      }
    );
  }
  function $t(e) {
    let t, n;
    return (
      (t = new yt({
        props: {
          isDocument: "Document" == e[6],
          userInstructions: e[0].on_camera_instructions,
          CameraAccessError: e[0].camera_access_error,
          LandscapeWarning: e[0].landscape_warning,
          waitText: e[0].wait,
        },
      })),
      t.$on("ImageCaptured", e[14]),
      {
        c() {
          Pe(t.$$.fragment);
        },
        m(e, r) {
          Be(t, e, r), (n = !0);
        },
        p(e, n) {
          const r = {};
          64 & n && (r.isDocument = "Document" == e[6]),
            1 & n && (r.userInstructions = e[0].on_camera_instructions),
            1 & n && (r.CameraAccessError = e[0].camera_access_error),
            1 & n && (r.LandscapeWarning = e[0].landscape_warning),
            1 & n && (r.waitText = e[0].wait),
            t.$set(r);
        },
        i(e) {
          n || (Oe(t.$$.fragment, e), (n = !0));
        },
        o(e) {
          Ce(t.$$.fragment, e), (n = !1);
        },
        d(e) {
          Ue(t, e);
        },
      }
    );
  }
  function kt(e) {
    let t, n;
    return (
      (t = new mt({
        props: {
          logoUrl: e[0].app_main_logo_url,
          isLogoVisible: e[0].display_idwise_logo,
          imageUrl: e[2],
          userPrompt: e[3],
          userPromptTitle: e[4],
          allowFileUpload: e[5],
          readyButtonText: "Finish" == e[6] ? e[0].ok : e[0].im_ready,
          uploadFromGalleryText: e[0].upload_from_gallery,
          LoadingText: e[0].white_labeling_loading,
          ImageUploadSizeTooLargeText: e[0].image_upload_size_too_large,
        },
      })),
      t.$on("OkClick", e[13]),
      t.$on("ImageCaptured", e[14]),
      {
        c() {
          Pe(t.$$.fragment);
        },
        m(e, r) {
          Be(t, e, r), (n = !0);
        },
        p(e, n) {
          const r = {};
          1 & n && (r.logoUrl = e[0].app_main_logo_url),
            1 & n && (r.isLogoVisible = e[0].display_idwise_logo),
            4 & n && (r.imageUrl = e[2]),
            8 & n && (r.userPrompt = e[3]),
            16 & n && (r.userPromptTitle = e[4]),
            32 & n && (r.allowFileUpload = e[5]),
            65 & n &&
              (r.readyButtonText = "Finish" == e[6] ? e[0].ok : e[0].im_ready),
            1 & n && (r.uploadFromGalleryText = e[0].upload_from_gallery),
            1 & n && (r.LoadingText = e[0].white_labeling_loading),
            1 & n &&
              (r.ImageUploadSizeTooLargeText =
                e[0].image_upload_size_too_large),
            t.$set(r);
        },
        i(e) {
          n || (Oe(t.$$.fragment, e), (n = !0));
        },
        o(e) {
          Ce(t.$$.fragment, e), (n = !1);
        },
        d(e) {
          Ue(t, e);
        },
      }
    );
  }
  function Et(e) {
    let t, n;
    return (
      (t = new Ye({
        props: {
          logoUrl: e[0].app_main_logo_url,
          isLogoVisible: e[0].display_idwise_logo,
          welcomeHeader: e[0].welcome_header,
          welcomeDetails: e[0].welcome_details,
          startButtonText: e[0].start_button_text,
          PrivacyPolicyText: e[0].privacy_policy,
          IntroImageUrl: e[0].app_intro_image_url,
        },
      })),
      t.$on("JourneyStart", e[12]),
      {
        c() {
          Pe(t.$$.fragment);
        },
        m(e, r) {
          Be(t, e, r), (n = !0);
        },
        p(e, n) {
          const r = {};
          1 & n && (r.logoUrl = e[0].app_main_logo_url),
            1 & n && (r.isLogoVisible = e[0].display_idwise_logo),
            1 & n && (r.welcomeHeader = e[0].welcome_header),
            1 & n && (r.welcomeDetails = e[0].welcome_details),
            1 & n && (r.startButtonText = e[0].start_button_text),
            1 & n && (r.PrivacyPolicyText = e[0].privacy_policy),
            1 & n && (r.IntroImageUrl = e[0].app_intro_image_url),
            t.$set(r);
        },
        i(e) {
          n || (Oe(t.$$.fragment, e), (n = !0));
        },
        o(e) {
          Ce(t.$$.fragment, e), (n = !1);
        },
        d(e) {
          Ue(t, e);
        },
      }
    );
  }
  function Ot(e) {
    let t, n, r, o, i, a, s, l, c;
    const u = [Et, kt, $t, _t],
      d = [];
    function p(e, t) {
      return "Welcome" == e[1]
        ? 0
        : "StepInformation" == e[1]
        ? 1
        : "Camera" == e[1]
        ? 2
        : "ConfirmImage" == e[1]
        ? 3
        : -1;
    }
    return (
      ~(o = p(e)) && (i = d[o] = u[o](e)),
      {
        c() {
          (t = te("link")),
            (n = re()),
            (r = te("div")),
            i && i.c(),
            ae(t, "rel", "stylesheet"),
            ae(t, "href", "https://resources.idwise.com/websdk-res/common.css"),
            ae(r, "class", (a = e[11] ? "dark" : "basic")),
            le(r, "direction", e[0].bidi_direction);
        },
        m(e, i) {
          Z(document.head, t),
            Q(e, n, i),
            Q(e, r, i),
            ~o && d[o].m(r, null),
            (s = !0),
            l || ((c = ie(window, "beforeunload", Ct)), (l = !0));
        },
        p(e, [t]) {
          let n = o;
          (o = p(e)),
            o === n
              ? ~o && d[o].p(e, t)
              : (i &&
                  (ke(),
                  Ce(d[n], 1, 1, () => {
                    d[n] = null;
                  }),
                  Ee()),
                ~o
                  ? ((i = d[o]),
                    i ? i.p(e, t) : ((i = d[o] = u[o](e)), i.c()),
                    Oe(i, 1),
                    i.m(r, null))
                  : (i = null)),
            (!s || (2048 & t && a !== (a = e[11] ? "dark" : "basic"))) &&
              ae(r, "class", a),
            (!s || 1 & t) && le(r, "direction", e[0].bidi_direction);
        },
        i(e) {
          s || (Oe(i), (s = !0));
        },
        o(e) {
          Ce(i), (s = !1);
        },
        d(e) {
          ee(t), e && ee(n), e && ee(r), ~o && d[o].d(), (l = !1), c();
        },
      }
    );
  }
  function Ct() {
    return (
      event.preventDefault(),
      (event.returnValue = ""),
      "Your work will be lost. Are you sure You want to press a Back button?!"
    );
  }
  function It(e, t, n) {
    let r;
    K(e, je, (e) => n(11, (r = e)));
    const o = pe();
    let i,
      a,
      s,
      l,
      c,
      { journeyTemplateId: u } = t,
      { userId: d } = t,
      { whiteLabellingData: p = {} } = t,
      f = "Welcome",
      m = "",
      h = "",
      g = "",
      b = !1,
      y = "",
      v = !1,
      w = null,
      x = null,
      S = !1;
    function T(e) {
      switch (
        ((a = e.step_id),
        n(2, (m = e.image_url)),
        n(3, (h = e.user_prompt)),
        n(4, (g = e.user_prompt_title)),
        n(5, (b = e.allow_file_upload)),
        e.step_type)
      ) {
        case "Document":
          n(6, (y = "Document"));
          break;
        case "Selfie":
          n(6, (y = "Selfie"));
          break;
        case "Finish":
          n(6, (y = "Finish"));
          break;
        default:
          throw Error('Unrecognised step type "' + e.step_type + '"');
      }
      n(1, (f = "StepInformation"));
    }
    return (
      (e.$$set = (e) => {
        "journeyTemplateId" in e && n(17, (u = e.journeyTemplateId)),
          "userId" in e && n(18, (d = e.userId)),
          "whiteLabellingData" in e && n(0, (p = e.whiteLabellingData));
      }),
      [
        p,
        f,
        m,
        h,
        g,
        b,
        y,
        l,
        c,
        v,
        S,
        r,
        function (e) {
          (function (e, t) {
            var n = new FormData();
            return (
              n.append("customerId", e),
              n.append("userId", t),
              F.post("start-journey?lang=en", n).then(function (e) {
                return e.data;
              })
            );
          })(u, d).then((e) => {
            (i = { journeyId: e.journeyId }), T(e.processingStep);
          });
        },
        function (e) {
          "Finish" == y
            ? o("Journey Finish", { completed: !0, journeyId: i.journeyId })
            : n(1, (f = "Camera"));
        },
        function (e) {
          (s = e.detail.imageBlob),
            n(7, (l = e.detail.imageUrl)),
            n(8, (c = e.detail.source)),
            n(1, (f = "ConfirmImage")),
            n(10, (S = !1)),
            (x = new Promise((e, t) => {
              (function (e, t, n, r, o) {
                return new Promise(function (i, a) {
                  var s = new FormData();
                  s.set("journeyId", e),
                    s.set("stepId", t),
                    s.set("stepType", n),
                    s.append("image", r),
                    s.append("imageName", t + ".jpg");
                  var l = {
                      channel: "websdk",
                      browser: W.description,
                      captureType: "manual",
                      mediaSource: o,
                    },
                    c = JSON.stringify(l);
                  console.log(c),
                    s.append("additionalData", c),
                    console.log(F.defaults.baseURL),
                    F.post("process-journey-step", s, { timeout: 3e4 })
                      .then(function (e) {
                        console.log(
                          "Posted image for journey:",
                          e.data.journeyId
                        ),
                          i(e.data);
                      })
                      .catch(function (e) {
                        console.log("process-journey-step-error " + e), a(e);
                      });
                });
              })(i.journeyId, a, y, s, c)
                .then((t) => {
                  (w = t.processingStep), e(t.processingStep);
                })
                .catch(() => {
                  n(10, (S = !0)), n(9, (v = !1));
                });
            }));
        },
        function () {
          return new Promise((e, t) => {
            n(9, (v = !0)),
              x
                .then((t) => {
                  console.log("response", t),
                    console.log("backgroundSubmitResponse", w),
                    n(9, (v = !1)),
                    T(w),
                    e();
                })
                .catch((e) => {
                  console.log("submitStepImage", e),
                    console.log("reject", t),
                    n(10, (S = !0)),
                    n(9, (v = !1));
                });
          });
        },
        function () {
          n(1, (f = "StepInformation"));
        },
        u,
        d,
      ]
    );
  }
  class Pt extends Ae {
    constructor(e) {
      super(),
        Le(this, e, It, Ot, X, {
          journeyTemplateId: 17,
          userId: 18,
          whiteLabellingData: 0,
        });
    }
  }
  function Bt(e) {
    var t = this,
      n = e.mount,
      r = e.journeyTemplateId,
      o = e.userId,
      i = e.eventHandlers;
    return new Promise(function (e, a) {
      if (
        ((t._mountSelector = n),
        (t._userId = o),
        (t._mountParent = document.querySelector(t._mountSelector)),
        !t._mountParent)
      ) {
        var s = "Element ".concat(t._mountSelector, " not found");
        return console.error(s), void a(s);
      }
      t._createdApp = (function (e, t, n, r) {
        return (
          console.log("whiteLabellingData"),
          console.log(r),
          new Pt({
            target: e,
            props: { journeyTemplateId: t, whiteLabellingData: r, userId: n },
          })
        );
      })(t._mountParent, r, t._userId, t._whiteLabellingData);
      var l = t._createdApp.$on("Journey Finish", function (e) {
        l(), t.cleanup(), i.onFinished && i.onFinished(e.detail);
      });
      e();
    });
  }
  function Ut() {
    var e = this;
    return new Promise(function (t, n) {
      e._createdApp
        ? (e._createdApp.$destroy(), (e._createdApp = null), t())
        : t();
    });
  }
  e.initialize = function (e) {
    var t = e.businessId,
      n = e.apiEnv,
      r = e.journeyTemplateId;
    e.apiKey, e.apiSecret;
    var o = e.locale,
      i = {
        businessId: t,
        apiEnv: n,
        journeyDefId: r,
        startJourney: Bt,
        cleanup: Ut,
      };
    return (
      (function (e) {
        var t = "api.idwise.com";
        "dev" == e && (t = "api-dev.idwise.com"),
          (F.defaults.baseURL = "https://" + t + "/journey/");
      })(n),
      new Promise(function (e, n) {
        (function (e, t, n) {
          return F.get("white-label", {
            params: { customerId: e, journeyDefId: t, locale: n },
          }).then(function (e) {
            return e.data;
          });
        })(t, r, o)
          .then(function (t) {
            (i._whiteLabellingData = t), e(i);
          })
          .catch(function (e) {
            var t = "Error getting whitelabelling data.\r\n" + e;
            console.log(t), n(t);
          });
      })
    );
  };
});
